window.CodeMirror=(function(){var bw=/gecko\/\d/i.test(navigator.userAgent);var cl=/MSIE \d/.test(navigator.userAgent);var bt=cl&&(document.documentMode==null||document.documentMode<8);var bs=cl&&(document.documentMode==null||document.documentMode<9);var bU=/WebKit\//.test(navigator.userAgent);var co=bU&&/Qt\/\d+\.\d+/.test(navigator.userAgent);var b2=/Chrome\//.test(navigator.userAgent);var dE=/Opera\//.test(navigator.userAgent);var ac=/Apple Computer/.test(navigator.vendor);var ay=/KHTML\//.test(navigator.userAgent);var bF=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent);var bZ=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);var dB=/PhantomJS/.test(navigator.userAgent);var df=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var cG=df||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var bf=df||/Mac/.test(navigator.platform);var aj=/windows/i.test(navigator.platform);var cS=dE&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(cS){cS=Number(cS[1])}var a5=bf&&(co||dE&&(cS==null||cS<12.11));var bJ=bw||(cl&&!bs);var dZ=false,av=false;function z(d4,d5){if(!(this instanceof z)){return new z(d4,d5)}this.options=d5=d5||{};for(var d6 in dg){if(!d5.hasOwnProperty(d6)&&dg.hasOwnProperty(d6)){d5[d6]=dg[d6]}}bn(d5);var ea=typeof d5.value=="string"?0:d5.value.first;var d9=this.display=f(d4,ea);d9.wrapper.CodeMirror=this;cC(this);if(d5.autofocus&&!cG){cV(this)}this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,draggingText:false,highlight:new d3()};bO(this);if(d5.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}var d8=d5.value;if(typeof d8=="string"){d8=new W(d5.value,d5.mode)}bV(this,cB)(this,d8);if(cl){setTimeout(bA(dx,this,true),20)}dQ(this);var eb;try{eb=(document.activeElement==d9.input)}catch(d7){}if(eb||(d5.autofocus&&!cG)){setTimeout(bA(bE,this),20)}else{an(this)}bV(this,function(){for(var ed in aB){if(aB.propertyIsEnumerable(ed)){aB[ed](this,d5[ed],bl)}}for(var ec=0;ec<aw.length;++ec){aw[ec](this)}})()}function f(d4,d7){var d8={};var d6=d8.input=dU("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none;");if(bU){d6.style.width="1000px"}else{d6.setAttribute("wrap","off")}if(df){d6.style.border="1px solid black"}d6.setAttribute("autocorrect","off");d6.setAttribute("autocapitalize","off");d8.inputDiv=dU("div",[d6],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");d8.scrollbarH=dU("div",[dU("div",null,null,"height: 1px")],"CodeMirror-hscrollbar");d8.scrollbarV=dU("div",[dU("div",null,null,"width: 1px")],"CodeMirror-vscrollbar");d8.scrollbarFiller=dU("div",null,"CodeMirror-scrollbar-filler");d8.lineDiv=dU("div");d8.selectionDiv=dU("div",null,null,"position: relative; z-index: 1");d8.cursor=dU("div","\u00a0","CodeMirror-cursor");d8.otherCursor=dU("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor");d8.measure=dU("div",null,"CodeMirror-measure");d8.lineSpace=dU("div",[d8.measure,d8.selectionDiv,d8.lineDiv,d8.cursor,d8.otherCursor],null,"position: relative; outline: none");d8.mover=dU("div",[dU("div",[d8.lineSpace],"CodeMirror-lines")],null,"position: relative");d8.sizer=dU("div",[d8.mover],"CodeMirror-sizer");d8.heightForcer=dU("div",null,null,"position: absolute; height: "+aF+"px; width: 1px;");d8.gutters=dU("div",null,"CodeMirror-gutters");d8.lineGutter=null;var d5=dU("div",[d8.sizer,d8.heightForcer,d8.gutters],null,"position: relative; min-height: 100%");d8.scroller=dU("div",[d5],"CodeMirror-scroll");d8.scroller.setAttribute("tabIndex","-1");d8.wrapper=dU("div",[d8.inputDiv,d8.scrollbarH,d8.scrollbarV,d8.scrollbarFiller,d8.scroller],"CodeMirror");if(bt){d8.gutters.style.zIndex=-1;d8.scroller.style.paddingRight=0}if(d4.appendChild){d4.appendChild(d8.wrapper)}else{d4(d8.wrapper)}if(df){d6.style.width="0px"}if(!bU){d8.scroller.draggable=true}if(ay){d8.inputDiv.style.height="1px";d8.inputDiv.style.position="absolute"}else{if(bt){d8.scrollbarH.style.minWidth=d8.scrollbarV.style.minWidth="18px"}}d8.viewOffset=d8.lastSizeC=0;d8.showingFrom=d8.showingTo=d7;d8.lineNumWidth=d8.lineNumInnerWidth=d8.lineNumChars=null;d8.prevInput="";d8.alignWidgets=false;d8.pollingFast=false;d8.poll=new d3();d8.draggingText=false;d8.cachedCharWidth=d8.cachedTextHeight=null;d8.measureLineCache=[];d8.measureLineCachePos=0;d8.inaccurateSelection=false;d8.maxLine=null;d8.maxLineLength=0;d8.maxLineChanged=false;d8.wheelDX=d8.wheelDY=d8.wheelStartX=d8.wheelStartY=null;return d8}function aO(d4){d4.doc.mode=z.getMode(d4.options,d4.doc.modeOption);d4.doc.iter(function(d5){if(d5.stateAfter){d5.stateAfter=null}if(d5.styles){d5.styles=null}});d4.doc.frontier=d4.doc.first;cF(d4,100);d4.state.modeGen++;if(d4.curOp){N(d4)}}function c3(d4){if(d4.options.lineWrapping){d4.display.wrapper.className+=" CodeMirror-wrap";d4.display.sizer.style.minWidth=""}else{d4.display.wrapper.className=d4.display.wrapper.className.replace(" CodeMirror-wrap","");dW(d4)}J(d4);N(d4);Q(d4);setTimeout(function(){dd(d4.display,d4.doc.height)},100)}function aA(d4){var d6=ap(d4.display),d5=d4.options.lineWrapping;var d7=d5&&Math.max(5,d4.display.scroller.clientWidth/cj(d4.display)-3);return function(d8){if(dC(d4.doc,d8)){return 0}else{if(d5){return(Math.ceil(d8.text.length/d7)||1)*d6}else{return d6}}}}function J(d4){var d6=d4.doc,d5=aA(d4);d6.iter(function(d7){var d8=d5(d7);if(d8!=d7.height){dX(d7,d8)}})}function d2(d4){var d5=dk[d4.options.keyMap].style;d4.display.wrapper.className=d4.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(d5?" cm-keymap-"+d5:"")}function bO(d4){d4.display.wrapper.className=d4.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+d4.options.theme.replace(/(^|\s)\s*/g," cm-s-");Q(d4)}function ce(d4){cC(d4);N(d4)}function cC(d4){var d5=d4.display.gutters,d9=d4.options.gutters;cv(d5);for(var d6=0;d6<d9.length;++d6){var d7=d9[d6];var d8=d5.appendChild(dU("div",null,"CodeMirror-gutter "+d7));if(d7=="CodeMirror-linenumbers"){d4.display.lineGutter=d8;d8.style.width=(d4.display.lineNumWidth||1)+"px"}}d5.style.display=d6?"":"none"}function cK(d8,d6){if(d6.height==0){return 0}var d5=d6.text.length,d4,d9=d6;while(d4=c7(d9)){var d7=d4.find();d9=dm(d8,d7.from.line);d5+=d7.from.ch-d7.to.ch}d9=d6;while(d4=cP(d9)){var d7=d4.find();d5-=d9.text.length-d7.from.ch;d9=dm(d8,d7.to.line);d5+=d9.text.length-d7.to.ch}return d5}function dW(d4){var d6=d4.display,d5=d4.doc;d6.maxLine=dm(d5,d5.first);d6.maxLineLength=cK(d5,d6.maxLine);d6.maxLineChanged=true;d5.iter(function(d8){var d7=cK(d5,d8);if(d7>d6.maxLineLength){d6.maxLineLength=d7;d6.maxLine=d8}})}function bn(d4){var d6=false;for(var d5=0;d5<d4.gutters.length;++d5){if(d4.gutters[d5]=="CodeMirror-linenumbers"){if(d4.lineNumbers){d6=true}else{d4.gutters.splice(d5--,1)}}}if(!d6&&d4.lineNumbers){d4.gutters.push("CodeMirror-linenumbers")}}function dd(d9,d4){var d6=d4+aZ(d9);d9.sizer.style.minHeight=d9.heightForcer.style.top=d6+"px";var d7=Math.max(d6,d9.scroller.scrollHeight);var d8=d9.scroller.scrollWidth>d9.scroller.clientWidth;var d5=d7>d9.scroller.clientHeight;if(d5){d9.scrollbarV.style.display="block";d9.scrollbarV.style.bottom=d8?i(d9.measure)+"px":"0";d9.scrollbarV.firstChild.style.height=(d7-d9.scroller.clientHeight+d9.scrollbarV.clientHeight)+"px"}else{d9.scrollbarV.style.display=""}if(d8){d9.scrollbarH.style.display="block";d9.scrollbarH.style.right=d5?i(d9.measure)+"px":"0";d9.scrollbarH.firstChild.style.width=(d9.scroller.scrollWidth-d9.scroller.clientWidth+d9.scrollbarH.clientWidth)+"px"}else{d9.scrollbarH.style.display=""}if(d8&&d5){d9.scrollbarFiller.style.display="block";d9.scrollbarFiller.style.height=d9.scrollbarFiller.style.width=i(d9.measure)+"px"}else{d9.scrollbarFiller.style.display=""}if(bF&&i(d9.measure)===0){d9.scrollbarV.style.minWidth=d9.scrollbarH.style.minHeight=bZ?"18px":"12px"}}function be(d9,d8,d7){var d6=d9.scroller.scrollTop,d4=d9.wrapper.clientHeight;if(typeof d7=="number"){d6=d7}else{if(d7){d6=d7.top;d4=d7.bottom-d7.top}}d6=Math.floor(d6-di(d9));var d5=Math.ceil(d6+d4);return{from:aX(d8,d6),to:aX(d8,d5)}}function cZ(d4){var ea=d4.display;if(!ea.alignWidgets&&(!ea.gutters.firstChild||!d4.options.fixedGutter)){return}var d7=cu(ea)-ea.scroller.scrollLeft+d4.doc.scrollLeft;var d9=ea.gutters.offsetWidth,d6=d7+"px";for(var eb=ea.lineDiv.firstChild;eb;eb=eb.nextSibling){if(eb.alignable){for(var d8=0,d5=eb.alignable;d8<d5.length;++d8){d5[d8].style.left=d6}}}if(d4.options.fixedGutter){ea.gutters.style.left=(d7+d9)+"px"}}function cx(d4){if(!d4.options.lineNumbers){return false}var d9=d4.doc,d5=cN(d4.options,d9.first+d9.size-1),d8=d4.display;if(d5.length!=d8.lineNumChars){var ea=d8.measure.appendChild(dU("div",[dU("div",d5)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var d6=ea.firstChild.offsetWidth,d7=ea.offsetWidth-d6;d8.lineGutter.style.width="";d8.lineNumInnerWidth=Math.max(d6,d8.lineGutter.offsetWidth-d7);d8.lineNumWidth=d8.lineNumInnerWidth+d7;d8.lineNumChars=d8.lineNumInnerWidth?d5.length:-1;d8.lineGutter.style.width=d8.lineNumWidth+"px";return true}return false}function cN(d4,d5){return String(d4.lineNumberFormatter(d5+d4.firstLineNumber))}function cu(d4){return ai(d4.scroller).left-ai(d4.sizer).left}function cm(d4,d7,d8){var d6=d4.display.showingFrom,d9=d4.display.showingTo;var d5=b5(d4,d7,d8);if(d5){M(d4,"update",d4);if(d4.display.showingFrom!=d6||d4.display.showingTo!=d9){M(d4,"viewportChange",d4,d4.display.showingFrom,d4.display.showingTo)}}aU(d4);dd(d4.display,d4.doc.height);return d5}function b5(ea,es,d4){var em=ea.display,et=ea.doc;if(!em.wrapper.clientWidth){em.showingFrom=em.showingTo=et.first;em.viewOffset=0;return}var d6=be(em,et,d4);if(es.length==0&&d6.from>em.showingFrom&&d6.to<em.showingTo){return}if(cx(ea)){es=[{from:et.first,to:et.first+et.size}]}var eq=em.sizer.style.marginLeft=em.gutters.offsetWidth+"px";em.scrollbarH.style.left=ea.options.fixedGutter?eq:"0";var d7=Infinity;if(ea.options.lineNumbers){for(var en=0;en<es.length;++en){if(es[en].diff){d7=es[en].from;break}}}var d8=et.first+et.size;var el=Math.max(d6.from-ea.options.viewportMargin,et.first);var d5=Math.min(d8,d6.to+ea.options.viewportMargin);if(em.showingFrom<el&&el-em.showingFrom<20){el=Math.max(et.first,em.showingFrom)}if(em.showingTo>d5&&em.showingTo-d5<20){d5=Math.min(d8,em.showingTo)}if(av){el=a3(t(et,dm(et,el)));while(d5<d8&&dC(et,dm(et,d5))){++d5}}var eo=[{from:Math.max(em.showingFrom,et.first),to:Math.min(em.showingTo,d8)}];if(eo[0].from>=eo[0].to){eo=[]}else{eo=dw(eo,es)}if(av){for(var en=0;en<eo.length;++en){var ef=eo[en],ep;while(ep=cP(dm(et,ef.to-1))){var er=ep.find().from.line;if(er>ef.from){ef.to=er}else{eo.splice(en--,1);break}}}}var ei=0;for(var en=0;en<eo.length;++en){var ef=eo[en];if(ef.from<el){ef.from=el}if(ef.to>d5){ef.to=d5}if(ef.from>=ef.to){eo.splice(en--,1)}else{ei+=ef.to-ef.from}}if(ei==d5-el&&el==em.showingFrom&&d5==em.showingTo){h(ea);return}eo.sort(function(ev,eu){return ev.from-eu.from});var eb=document.activeElement;if(ei<(d5-el)*0.7){em.lineDiv.style.display="none"}bu(ea,el,d5,eo,d7);em.lineDiv.style.display="";if(document.activeElement!=eb&&eb.offsetHeight){eb.focus()}var eg=el!=em.showingFrom||d5!=em.showingTo||em.lastSizeC!=em.wrapper.clientHeight;if(eg){em.lastSizeC=em.wrapper.clientHeight}em.showingFrom=el;em.showingTo=d5;cF(ea,100);var d9=em.lineDiv.offsetTop;for(var ek=em.lineDiv.firstChild,eh;ek;ek=ek.nextSibling){if(ek.lineObj){if(bt){var ee=ek.offsetTop+ek.offsetHeight;eh=ee-d9;d9=ee}else{var ec=ai(ek);eh=ec.bottom-ec.top}var ed=ek.lineObj.height-eh;if(eh<2){eh=ap(em)}if(ed>0.001||ed<-0.001){dX(ek.lineObj,eh);var ej=ek.lineObj.widgets;if(ej){for(var en=0;en<ej.length;++en){ej[en].height=ej[en].node.offsetHeight}}}}}h(ea);if(be(em,et,d4).to>d5){b5(ea,[],d4)}return true}function h(d4){var d5=d4.display.viewOffset=a2(d4,dm(d4.doc,d4.display.showingFrom));d4.display.mover.style.top=d5+"px"}function dw(ed,eb){for(var d8=0,d6=eb.length||0;d8<d6;++d8){var ea=eb[d8],d4=[],ec=ea.diff||0;for(var d7=0,d5=ed.length;d7<d5;++d7){var d9=ed[d7];if(ea.to<=d9.from&&ea.diff){d4.push({from:d9.from+ec,to:d9.to+ec})}else{if(ea.to<=d9.from||ea.from>=d9.to){d4.push(d9)}else{if(ea.from>d9.from){d4.push({from:d9.from,to:ea.from})}if(ea.to<d9.to){d4.push({from:ea.to+ec,to:d9.to+ec})}}}}ed=d4}return ed}function dl(d4){var d8=d4.display,d7={},d6={};for(var d9=d8.gutters.firstChild,d5=0;d9;d9=d9.nextSibling,++d5){d7[d4.options.gutters[d5]]=d9.offsetLeft;d6[d4.options.gutters[d5]]=d9.offsetWidth}return{fixedPos:cu(d8),gutterTotalWidth:d8.gutters.offsetWidth,gutterLeft:d7,gutterWidth:d6,wrapperWidth:d8.wrapper.clientWidth}}function bu(ed,ea,eb,eg,d5){var ec=dl(ed);var d9=ed.display,ef=ed.options.lineNumbers;if(!eg.length&&(!bU||!ed.display.currentWheelTarget)){cv(d9.lineDiv)}var d4=d9.lineDiv,ee=d4.firstChild;function d8(ei){var eh=ei.nextSibling;if(bU&&bf&&ed.display.currentWheelTarget==ei){ei.style.display="none";ei.lineObj=null}else{ei.parentNode.removeChild(ei)}return eh}var d6=eg.shift(),d7=ea;ed.doc.iter(ea,eb,function(ep){if(d6&&d6.to==d7){d6=eg.shift()}if(dC(ed.doc,ep)){if(ep.height!=0){dX(ep,0)}if(ep.widgets&&ee.previousSibling){for(var el=0;el<ep.widgets.length;++el){if(ep.widgets[el].showIfHidden){var ej=ee.previousSibling;if(/pre/i.test(ej.nodeName)){var ei=dU("div",null,null,"position: relative");ej.parentNode.replaceChild(ei,ej);ei.appendChild(ej);ej=ei}var en=ej.appendChild(dU("div",[ep.widgets[el].node],"CodeMirror-linewidget"));aW(ep.widgets[el],en,ej,ec)}}}}else{if(d6&&d6.from<=d7&&d6.to>d7){while(ee.lineObj!=ep){ee=d8(ee)}if(ef&&d5<=d7&&ee.lineNumber){n(ee.lineNumber,cN(ed.options,d7))}ee=ee.nextSibling}else{if(ep.widgets){for(var ek=0,eo=ee,em;eo&&ek<20;++ek,eo=eo.nextSibling){if(eo.lineObj==ep&&/div/i.test(eo.nodeName)){em=eo;break}}}var eh=ae(ed,ep,d7,ec,em);if(eh!=em){d4.insertBefore(eh,ee)}else{while(ee!=em){ee=d8(ee)}ee=ee.nextSibling}eh.lineObj=ep}}++d7});while(ee){ee=d8(ee)}}function ae(d9,ec,ed,eg,d5){var em=cp(d9,ec);var ep=ec.gutterMarkers,en=d9.display,ea;if(!d9.options.lineNumbers&&!ep&&!ec.bgClass&&!ec.wrapClass&&!ec.widgets){return em}if(d5){d5.alignable=null;var eq=true,d6=0;for(var ei=d5.firstChild,eh;ei;ei=eh){eh=ei.nextSibling;if(!/\bCodeMirror-linewidget\b/.test(ei.className)){d5.removeChild(ei)}else{for(var eo=0,d8=true;eo<ec.widgets.length;++eo){var d7=ec.widgets[eo],eb=false;if(!d7.above){eb=d8;d8=false}if(d7.node==ei.firstChild){aW(d7,ei,d5,eg);++d6;if(eb){d5.insertBefore(em,ei)}break}}if(eo==ec.widgets.length){eq=false;break}}}if(eq&&d6==ec.widgets.length){ea=d5;d5.className=ec.wrapClass||""}}if(!ea){ea=dU("div",null,ec.wrapClass,"position: relative");ea.appendChild(em)}if(ec.bgClass){ea.insertBefore(dU("div",null,ec.bgClass+" CodeMirror-linebackground"),ea.firstChild)}if(d9.options.lineNumbers||ep){var ek=ea.insertBefore(dU("div",null,null,"position: absolute; left: "+(d9.options.fixedGutter?eg.fixedPos:-eg.gutterTotalWidth)+"px"),ea.firstChild);if(d9.options.fixedGutter){(ea.alignable||(ea.alignable=[])).push(ek)}if(d9.options.lineNumbers&&(!ep||!ep["CodeMirror-linenumbers"])){ea.lineNumber=ek.appendChild(dU("div",cN(d9.options,ed),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+eg.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+en.lineNumInnerWidth+"px"))}if(ep){for(var el=0;el<d9.options.gutters.length;++el){var ef=d9.options.gutters[el],ee=ep.hasOwnProperty(ef)&&ep[ef];if(ee){ek.appendChild(dU("div",[ee],"CodeMirror-gutter-elt","left: "+eg.gutterLeft[ef]+"px; width: "+eg.gutterWidth[ef]+"px"))}}}}if(bt){ea.style.zIndex=2}if(ec.widgets&&ea!=d5){for(var eo=0,d4=ec.widgets;eo<d4.length;++eo){var d7=d4[eo],ej=dU("div",[d7.node],"CodeMirror-linewidget");aW(d7,ej,ea,eg);if(d7.above){ea.insertBefore(ej,d9.options.lineNumbers&&ec.height!=0?ek:em)}else{ea.appendChild(ej)}M(d7,"redraw")}}return ea}function aW(d7,d6,d5,d8){if(d7.noHScroll){(d5.alignable||(d5.alignable=[])).push(d6);var d4=d8.wrapperWidth;d6.style.left=d8.fixedPos+"px";if(!d7.coverGutter){d4-=d8.gutterTotalWidth;d6.style.paddingLeft=d8.gutterTotalWidth+"px"}d6.style.width=d4+"px"}if(d7.coverGutter){d6.style.zIndex=5;d6.style.position="relative";if(!d7.noHScroll){d6.style.marginLeft=-d8.gutterTotalWidth+"px"}}}function aU(d4){var d7=d4.display;var d8=dL(d4.doc.sel.from,d4.doc.sel.to);if(d8||d4.options.showCursorWhenSelecting){A(d4)}else{d7.cursor.style.display=d7.otherCursor.style.display="none"}if(!d8){S(d4)}else{d7.selectionDiv.style.display="none"}var d9=cs(d4,d4.doc.sel.head,"div");var d5=ai(d7.wrapper),d6=ai(d7.lineDiv);d7.inputDiv.style.top=Math.max(0,Math.min(d7.wrapper.clientHeight-10,d9.top+d6.top-d5.top))+"px";d7.inputDiv.style.left=Math.max(0,Math.min(d7.wrapper.clientWidth-10,d9.left+d6.left-d5.left))+"px"}function A(d4){var d5=d4.display,d6=cs(d4,d4.doc.sel.head,"div");d5.cursor.style.left=d6.left+"px";d5.cursor.style.top=d6.top+"px";d5.cursor.style.height=Math.max(0,d6.bottom-d6.top)*d4.options.cursorHeight+"px";d5.cursor.style.display="";if(d6.other){d5.otherCursor.style.display="";d5.otherCursor.style.left=d6.other.left+"px";d5.otherCursor.style.top=d6.other.top+"px";d5.otherCursor.style.height=(d6.other.bottom-d6.other.top)*0.85+"px"}else{d5.otherCursor.style.display="none"}}function S(d8){var ef=d8.display,em=d8.doc,ee=d8.doc.sel;var d4=document.createDocumentFragment();var eh=ef.lineSpace.offsetWidth,ei=ao(d8.display);function ea(eq,ep,eo,en){if(ep<0){ep=0}d4.appendChild(dU("div",null,"CodeMirror-selected","position: absolute; left: "+eq+"px; top: "+ep+"px; width: "+(eo==null?eh-eq:eo)+"px; height: "+(en-ep)+"px"))}function d6(en,eq,eu,et){var eo=dm(em,en);var er=eo.text.length,ep=et?Infinity:-Infinity;function es(ev){return bL(d8,I(en,ev),"div",eo)}cw(a(eo),eq||0,eu==null?er:eu,function(eB,eA,ev){var ex=es(ev=="rtl"?eA-1:eB);var ey=es(ev=="rtl"?eB:eA-1);var ez=ex.left,ew=ey.right;if(ey.top-ex.top>3){ea(ez,ex.top,null,ex.bottom);ez=ei;if(ex.bottom<ey.top){ea(ez,ex.bottom,null,ey.top)}}if(eu==null&&eA==er){ew=eh}if(eq==null&&eB==0){ez=ei}ep=et?Math.min(ey.top,ep):Math.max(ey.bottom,ep);if(ez<ei+1){ez=ei}ea(ez,ey.top,ew-ez,ey.bottom)});return ep}if(ee.from.line==ee.to.line){d6(ee.from.line,ee.from.ch,ee.to.ch)}else{var el=dm(em,ee.from.line);var d7=el,ej,ec=[ee.from.line,ee.from.ch],d5;while(ej=cP(d7)){var d9=ej.find();ec.push(d9.from.ch,d9.to.line,d9.to.ch);if(d9.to.line==ee.to.line){ec.push(ee.to.ch);d5=true;break}d7=dm(em,d9.to.line)}if(d5){for(var eg=0;eg<ec.length;eg+=3){d6(ec[eg],ec[eg+1],ec[eg+2])}}else{var ed,eb,ek=dm(em,ee.to.line);if(ee.from.ch){ed=d6(ee.from.line,ee.from.ch,null,false)}else{ed=a2(d8,el)-ef.viewOffset}if(!ee.to.ch){eb=a2(d8,ek)-ef.viewOffset}else{eb=d6(ee.to.line,c7(ek)?null:0,ee.to.ch,true)}if(ed<eb){ea(ei,ed,null,eb)}}}a7(ef.selectionDiv,d4);ef.selectionDiv.style.display=""}function l(d4){var d6=d4.display;clearInterval(d6.blinker);var d5=true;d6.cursor.style.visibility=d6.otherCursor.style.visibility="";d6.blinker=setInterval(function(){if(!d6.cursor.offsetHeight){return}d6.cursor.style.visibility=d6.otherCursor.style.visibility=(d5=!d5)?"":"hidden"},d4.options.cursorBlinkRate)}function cF(d4,d5){if(d4.doc.mode.startState&&d4.doc.frontier<d4.display.showingTo){d4.state.highlight.set(d5,bA(bP,d4))}}function bP(d4){var d7=d4.doc;if(d7.frontier<d7.first){d7.frontier=d7.first}if(d7.frontier>=d4.display.showingTo){return}var d5=+new Date+d4.options.workTime;var d6=bd(d7.mode,ch(d4,d7.frontier));var d9=[],d8;d7.iter(d7.frontier,Math.min(d7.first+d7.size,d4.display.showingTo+500),function(ea){if(d7.frontier>=d4.display.showingFrom){var ec=ea.styles;ea.styles=dH(d4,ea,d6);var ed=!ec||ec.length!=ea.styles.length;for(var eb=0;!ed&&eb<ec.length;++eb){ed=ec[eb]!=ea.styles[eb]}if(ed){if(d8&&d8.end==d7.frontier){d8.end++}else{d9.push(d8={start:d7.frontier,end:d7.frontier+1})}}ea.stateAfter=bd(d7.mode,d6)}else{cf(d4,ea,d6);ea.stateAfter=d7.frontier%5==0?bd(d7.mode,d6):null}++d7.frontier;if(+new Date>d5){cF(d4,d4.options.workDelay);return true}});if(d9.length){bV(d4,function(){for(var ea=0;ea<d9.length;++ea){N(this,d9[ea].start,d9[ea].end)}})()}}function bC(d9,d4){var d5,d7,d8=d9.doc;for(var eb=d4,d6=d4-100;eb>d6;--eb){if(eb<=d8.first){return d8.first}var ec=dm(d8,eb-1);if(ec.stateAfter){return eb}var ea=a6(ec.text,null,d9.options.tabSize);if(d7==null||d5>ea){d7=eb-1;d5=ea}}return d7}function ch(d4,d9){var d7=d4.doc,d6=d4.display;if(!d7.mode.startState){return true}var d8=bC(d4,d9),d5=d8>d7.first&&dm(d7,d8-1).stateAfter;if(!d5){d5=bc(d7.mode)}else{d5=bd(d7.mode,d5)}d7.iter(d8,d9,function(ea){cf(d4,ea,d5);var eb=d8==d9-1||d8%5==0||d8>=d6.showingFrom&&d8<d6.showingTo;ea.stateAfter=eb?bd(d7.mode,d5):null;++d8});return d5}function di(d4){return d4.lineSpace.offsetTop}function aZ(d4){return d4.mover.offsetHeight-d4.lineSpace.offsetHeight}function ao(d5){var d4=a7(d5.measure,dU("pre",null,null,"text-align: left")).appendChild(dU("span","x"));return d4.offsetLeft}function cH(d4,d5,d7,d9){var d6=-1;d9=d9||a0(d4,d5);for(var ea=d7;;ea+=d6){var d8=d9[ea];if(d8){break}if(d6<0&&ea==0){d6=1}}return{left:ea<d7?d8.right:d8.left,right:ea>d7?d8.left:d8.right,top:d8.top,bottom:d8.bottom}}function dh(d4,d5){var d7=d4.display.measureLineCache;for(var d8=0;d8<d7.length;++d8){var d6=d7[d8];if(d6.text==d5.text&&d6.markedSpans==d5.markedSpans&&d4.display.scroller.clientWidth==d6.width&&d6.classes==d5.textClass+"|"+d5.bgClass+"|"+d5.wrapClass){return d6.measure}}}function a0(d4,d5){var d8=dh(d4,d5);if(!d8){d8=b4(d4,d5);var d7=d4.display.measureLineCache;var d6={text:d5.text,width:d4.display.scroller.clientWidth,markedSpans:d5.markedSpans,measure:d8,classes:d5.textClass+"|"+d5.bgClass+"|"+d5.wrapClass};if(d7.length==16){d7[++d4.display.measureLineCachePos%16]=d6}else{d7.push(d6)}}return d8}function b4(d9,eb){var em=d9.display,d8=R(eb.text.length);var ej=cp(d9,eb,d8);if(cl&&!bt&&!d9.options.lineWrapping&&ej.childNodes.length>100){var d6=document.createDocumentFragment();var ec=10,ek=ej.childNodes.length;for(var eo=0,ee=Math.ceil(ek/ec);eo<ee;++eo){var ea=dU("div",null,null,"display: inline-block");for(var en=0;en<ec&&ek;++en){ea.appendChild(ej.firstChild);--ek}d6.appendChild(ea)}ej.appendChild(d6)}a7(em.measure,ej);var d5=ai(em.lineDiv);var d4=[],er=R(eb.text.length),eq=ej.offsetHeight;if(bs&&em.measure.first!=ej){a7(em.measure,ej)}for(var eo=0,d7;eo<d8.length;++eo){if(d7=d8[eo]){var ei=ai(d7);var eh=Math.max(0,ei.top-d5.top),ef=Math.min(ei.bottom-d5.top,eq);for(var en=0;en<d4.length;en+=2){var eg=d4[en],ed=d4[en+1];if(eg>ef||ed<eh){continue}if(eg<=eh&&ed>=ef||eh<=eg&&ef>=ed||Math.min(ef,ed)-Math.max(eh,eg)>=(ef-eh)>>1){d4[en]=Math.min(eh,eg);d4[en+1]=Math.max(ef,ed);break}}if(en==d4.length){d4.push(eh,ef)}var ep=ei.right;if(d7.measureRight){ep=ai(d7.measureRight).left}er[eo]={left:ei.left-d5.left,right:ep-d5.left,top:en}}}for(var eo=0,d7;eo<er.length;++eo){if(d7=er[eo]){var el=d7.top;d7.top=d4[el];d7.bottom=d4[el+1]}}return er}function c0(d4,d6){var eb=false;if(d6.markedSpans){for(var d7=0;d7<d6.markedSpans;++d7){var d9=d6.markedSpans[d7];if(d9.collapsed&&(d9.to==null||d9.to==d6.text.length)){eb=true}}}var d8=!eb&&dh(d4,d6);if(d8){return cH(d4,d6,d6.text.length,d8).right}var ea=cp(d4,d6);var d5=ea.appendChild(aL(d4.display.measure));a7(d4.display.measure,ea);return ai(d5).right-ai(d4.display.lineDiv).left}function Q(d4){d4.display.measureLineCache.length=d4.display.measureLineCachePos=0;d4.display.cachedCharWidth=d4.display.cachedTextHeight=null;d4.display.maxLineChanged=true;d4.display.lineNumChars=null}function c8(ea,d7,d9,d5){if(d7.widgets){for(var d6=0;d6<d7.widgets.length;++d6){if(d7.widgets[d6].above){var ec=bS(d7.widgets[d6]);d9.top+=ec;d9.bottom+=ec}}}if(d5=="line"){return d9}if(!d5){d5="local"}var d8=a2(ea,d7);if(d5!="local"){d8-=ea.display.viewOffset}if(d5=="page"){var d4=ai(ea.display.lineSpace);d8+=d4.top+(window.pageYOffset||(document.documentElement||document.body).scrollTop);var eb=d4.left+(window.pageXOffset||(document.documentElement||document.body).scrollLeft);d9.left+=eb;d9.right+=eb}d9.top+=d8;d9.bottom+=d8;return d9}function d1(d5,d8,d6){if(d6=="div"){return d8}var ea=d8.left,d9=d8.top;if(d6=="page"){ea-=window.pageXOffset||(document.documentElement||document.body).scrollLeft;d9-=window.pageYOffset||(document.documentElement||document.body).scrollTop}var d4=ai(d5.display.lineSpace);ea-=d4.left;d9-=d4.top;if(d6=="local"||!d6){var d7=ai(d5.display.wrapper);ea-=d7.left;d9-=d7.top}return{left:ea,top:d9}}function bL(d4,d7,d6,d5){if(!d5){d5=dm(d4.doc,d7.line)}return c8(d4,d5,cH(d4,d5,d7.ch),d6)}function cs(ed,ea,d6,d5,ef){d5=d5||dm(ed.doc,ea.line);if(!ef){ef=a0(ed,d5)}function ek(eo,en){var em=cH(ed,d5,eo,ef);if(en){em.left=em.right}else{em.right=em.left}return c8(ed,d5,em,d6)}var eh=a(d5),ee=ea.ch;if(!eh){return ek(ee)}var eb,d9,el=eh[0].level;for(var ei=0;ei<eh.length;++ei){var eg=eh[ei],d8=eg.level%2,ec,d4;if(eg.from<ee&&eg.to>ee){return ek(ee,d8)}var d7=d8?eg.to:eg.from,ej=d8?eg.from:eg.to;if(d7==ee){if(ei&&eg.level<(ec=eh[ei-1]).level){d4=ek(ec.level%2?ec.from:ec.to-1,true)}else{d4=ek(d8&&eg.from!=eg.to?ee-1:ee)}if(d8==el){eb=d4}else{d9=d4}}else{if(ej==ee){var ec=ei<eh.length-1&&eh[ei+1];if(!d8&&ec&&ec.from==ec.to){continue}if(ec&&eg.level<ec.level){d4=ek(ec.level%2?ec.to-1:ec.from)}else{d4=ek(d8?ee:ee-1,true)}if(d8==el){eb=d4}else{d9=d4}}}}if(el&&!ee){d9=ek(eh[0].to-1)}if(!eb){return d9}if(d9){eb.other=d9}return eb}function c6(d4,d5,d6){var d7=new I(d4,d5);if(d6){d7.outside=true}return d7}function dP(eb,d8,d7){var ea=eb.doc;d7+=eb.display.viewOffset;if(d7<0){return c6(ea.first,0,true)}var d5=aX(ea,d7),ec=ea.first+ea.size-1;if(d5>ec){return c6(ea.first+ea.size-1,dm(ea,ec).text.length,true)}if(d8<0){d8=0}for(;;){var d6=dm(ea,d5);var ed=bT(eb,d6,d5,d8,d7);var d9=cP(d6);var d4=d9&&d9.find();if(d9&&ed.ch>=d4.from.ch){d5=d4.to.line}else{return ed}}}function bT(ef,d6,ei,eh,eg){var ee=eg-a2(ef,d6);var eb=false,eo=2*ef.display.wrapper.clientWidth;var en=a0(ef,d6);function er(et){var eu=cs(ef,I(ei,et),"line",d6,en);eb=true;if(ee>eu.bottom){return eu.left-eo}else{if(ee<eu.top){return eu.left+eo}else{eb=false}}return eu.left}var ek=a(d6),em=d6.text.length;var ep=bG(d6),d7=bQ(d6);var el=er(ep),d4=eb,d5=er(d7),ea=eb;if(eh>d5){return c6(ei,d7,ea)}for(;;){if(ek?d7==ep||d7==q(d6,ep,1):d7-ep<=1){var d9=eh-el<d5-eh,ej=d9?ep:d7;while(dy.test(d6.text.charAt(ej))){++ej}var ed=c6(ei,ej,d9?d4:ea);ed.after=d9;return ed}var ec=Math.ceil(em/2),es=ep+ec;if(ek){es=ep;for(var eq=0;eq<ec;++eq){es=q(d6,es,1)}}var d8=er(es);if(d8>eh){d7=es;d5=d8;if(ea=eb){d5+=1000}em-=ec}else{ep=es;el=d8;d4=eb;em=ec}}}var af;function ap(d6){if(d6.cachedTextHeight!=null){return d6.cachedTextHeight}if(af==null){af=dU("pre");for(var d5=0;d5<49;++d5){af.appendChild(document.createTextNode("x"));af.appendChild(dU("br"))}af.appendChild(document.createTextNode("x"))}a7(d6.measure,af);var d4=af.offsetHeight/50;if(d4>3){d6.cachedTextHeight=d4}cv(d6.measure);return d4||1}function cj(d7){if(d7.cachedCharWidth!=null){return d7.cachedCharWidth}var d4=dU("span","x");var d6=dU("pre",[d4]);a7(d7.measure,d6);var d5=d4.offsetWidth;if(d5>2){d7.cachedCharWidth=d5}return d5||10}var cz=0;function bK(d4){d4.curOp={changes:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:false,updateMaxLine:false,updateScrollPos:false,id:++cz};if(!bz++){aK=[]}}function T(eg){var eb=eg.curOp,ef=eg.doc,ec=eg.display;eg.curOp=null;if(eb.updateMaxLine){dW(eg)}if(ec.maxLineChanged&&!eg.options.lineWrapping){var d5=c0(eg,ec.maxLine);ec.sizer.style.minWidth=Math.max(0,d5+3+aF)+"px";ec.maxLineChanged=false;var ed=Math.max(0,ec.sizer.offsetLeft+ec.sizer.offsetWidth-ec.scroller.clientWidth);if(ed<ef.scrollLeft&&!eb.updateScrollPos){aV(eg,Math.min(ec.scroller.scrollLeft,ed),true)}}var d6,d9;if(eb.updateScrollPos){d6=eb.updateScrollPos}else{if(eb.selectionChanged&&ec.scroller.clientHeight){var ee=cs(eg,ef.sel.head);d6=y(eg,ee.left,ee.top,ee.left,ee.bottom)}}if(eb.changes.length||d6&&d6.scrollTop!=null){d9=cm(eg,eb.changes,d6&&d6.scrollTop);if(eg.display.scroller.offsetHeight){eg.doc.scrollTop=eg.display.scroller.scrollTop}}if(!d9&&eb.selectionChanged){aU(eg)}if(eb.updateScrollPos){ec.scroller.scrollTop=ec.scrollbarV.scrollTop=ef.scrollTop=d6.scrollTop;ec.scroller.scrollLeft=ec.scrollbarH.scrollLeft=ef.scrollLeft=d6.scrollLeft;cZ(eg)}else{if(d6){aa(eg)}}if(eb.selectionChanged){l(eg)}if(eg.state.focused&&eb.updateInput){dx(eg,eb.userSelChange)}var ea=eb.maybeHiddenMarkers,d4=eb.maybeUnhiddenMarkers;if(ea){for(var d8=0;d8<ea.length;++d8){if(!ea[d8].lines.length){ad(ea[d8],"hide")}}}if(d4){for(var d8=0;d8<d4.length;++d8){if(d4[d8].lines.length){ad(d4[d8],"unhide")}}}var d7;if(!--bz){d7=aK;aK=null}if(eb.textChanged){ad(eg,"change",eg,eb.textChanged)}if(eb.selectionChanged){ad(eg,"cursorActivity",eg)}if(d7){for(var d8=0;d8<d7.length;++d8){d7[d8]()}}}function bV(d4,d5){return function(){var d7=d4||this,d8=!d7.curOp;if(d8){bK(d7)}try{var d6=d5.apply(d7,arguments)}finally{if(d8){T(d7)}}return d6}}function dG(d4){return function(){var d6=this.cm&&!this.cm.curOp,d5;if(d6){bK(this.cm)}try{d5=d4.apply(this,arguments)}finally{if(d6){T(this.cm)}}return d5}}function bN(d5,d7){var d6=!d5.curOp,d4;if(d6){bK(d5)}try{d4=d7()}finally{if(d6){T(d5)}}return d4}function N(d4,d7,d6,d5){if(d7==null){d7=d4.doc.first}if(d6==null){d6=d4.doc.first+d4.doc.size}d4.curOp.changes.push({from:d7,to:d6,diff:d5})}function aJ(d4){if(d4.display.pollingFast){return}d4.display.poll.set(d4.options.pollInterval,function(){bp(d4);if(d4.state.focused){aJ(d4)}})}function u(d4){var d5=false;d4.display.pollingFast=true;function d6(){var d7=bp(d4);if(!d7&&!d5){d5=true;d4.display.poll.set(60,d6)}else{d4.display.pollingFast=false;aJ(d4)}}d4.display.poll.set(20,d6)}function bp(ee){var ea=ee.display.input,d7=ee.display.prevInput,ed=ee.doc,d4=ed.sel;if(!ee.state.focused||aP(ea)||P(ee)){return false}var ef=ea.value;if(ef==d7&&dL(d4.from,d4.to)){return false}if(cl&&ef&&ea.selectionStart===0){dx(ee,true);return false}var d6=!ee.curOp;if(d6){bK(ee)}d4.shift=false;var d9=0,d5=Math.min(d7.length,ef.length);while(d9<d5&&d7[d9]==ef[d9]){++d9}var ec=d4.from,eb=d4.to;if(d9<d7.length){ec=I(ec.line,ec.ch-(d7.length-d9))}else{if(ee.state.overwrite&&dL(ec,eb)&&!ee.state.pasteIncoming){eb=I(eb.line,Math.min(dm(ed,eb.line).text.length,eb.ch+(ef.length-d9)))}}var d8=ee.curOp.updateInput;aC(ee.doc,{from:ec,to:eb,text:ar(ef.slice(d9)),origin:ee.state.pasteIncoming?"paste":"+input"},"end");ee.curOp.updateInput=d8;if(ef.length>1000||ef.indexOf("\n")>-1){ea.value=ee.display.prevInput=""}else{ee.display.prevInput=ef}if(d6){T(ee)}ee.state.pasteIncoming=false;return true}function dx(d4,d6){var d5,d7,d8=d4.doc;if(!dL(d8.sel.from,d8.sel.to)){d4.display.prevInput="";d5=b1&&(d8.sel.to.line-d8.sel.from.line>100||(d7=d4.getSelection()).length>1000);if(d5){d4.display.input.value="-"}else{d4.display.input.value=d7||d4.getSelection()}if(d4.state.focused){cn(d4.display.input)}}else{if(d6){d4.display.prevInput=d4.display.input.value=""}}d4.display.inaccurateSelection=d5}function cV(d4){if(d4.options.readOnly!="nocursor"&&(!cG||document.activeElement!=d4.display.input)){d4.display.input.focus()}}function P(d4){return d4.options.readOnly||d4.doc.cantEdit}function dQ(d4){var d9=d4.display;ba(d9.scroller,"mousedown",bV(d4,cO));ba(d9.scroller,"dblclick",bV(d4,bH));ba(d9.lineSpace,"selectstart",function(eb){if(!ax(d9,eb)){bH(eb)}});if(!bJ){ba(d9.scroller,"contextmenu",function(eb){Z(d4,eb)})}ba(d9.scroller,"scroll",function(){if(d9.scroller.clientHeight){D(d4,d9.scroller.scrollTop);aV(d4,d9.scroller.scrollLeft,true);ad(d4,"scroll",d4)}});ba(d9.scrollbarV,"scroll",function(){if(d9.scroller.clientHeight){D(d4,d9.scrollbarV.scrollTop)}});ba(d9.scrollbarH,"scroll",function(){if(d9.scroller.clientHeight){aV(d4,d9.scrollbarH.scrollLeft)}});ba(d9.scroller,"mousewheel",function(eb){b(d4,eb)});ba(d9.scroller,"DOMMouseScroll",function(eb){b(d4,eb)});function ea(){if(d4.state.focused){setTimeout(bA(cV,d4),0)}}ba(d9.scrollbarH,"mousedown",ea);ba(d9.scrollbarV,"mousedown",ea);ba(d9.wrapper,"scroll",function(){d9.wrapper.scrollTop=d9.wrapper.scrollLeft=0});function d7(){d9.cachedCharWidth=d9.cachedTextHeight=null;Q(d4);bN(d4,bA(N,d4))}ba(window,"resize",d7);function d6(){for(var eb=d9.wrapper.parentNode;eb&&eb!=document.body;eb=eb.parentNode){}if(eb){setTimeout(d6,5000)}else{cE(window,"resize",d7)}}setTimeout(d6,5000);ba(d9.input,"keyup",bV(d4,function(eb){if(d4.options.onKeyEvent&&d4.options.onKeyEvent(d4,U(eb))){return}if(eb.keyCode==16){d4.doc.sel.shift=false}}));ba(d9.input,"input",bA(u,d4));ba(d9.input,"keydown",bV(d4,m));ba(d9.input,"keypress",bV(d4,bB));ba(d9.input,"focus",bA(bE,d4));ba(d9.input,"blur",bA(an,d4));function d5(eb){if(d4.options.onDragEvent&&d4.options.onDragEvent(d4,U(eb))){return}cM(eb)}if(d4.options.dragDrop){ba(d9.scroller,"dragstart",function(eb){G(d4,eb)});ba(d9.scroller,"dragenter",d5);ba(d9.scroller,"dragover",d5);ba(d9.scroller,"drop",bV(d4,aE))}ba(d9.scroller,"paste",function(eb){if(ax(d9,eb)){return}cV(d4);u(d4)});ba(d9.input,"paste",function(){d4.state.pasteIncoming=true;u(d4)});function d8(){if(d9.inaccurateSelection){d9.prevInput="";d9.inaccurateSelection=false;d9.input.value=d4.getSelection();cn(d9.input)}}ba(d9.input,"cut",d8);ba(d9.input,"copy",d8);if(ay){ba(d9.sizer,"mouseup",function(){if(document.activeElement==d9.input){d9.input.blur()}cV(d4)})}}function ax(d5,d4){for(var d6=B(d4);d6!=d5.wrapper;d6=d6.parentNode){if(!d6){return true}if(/\bCodeMirror-(?:line)?widget\b/.test(d6.className)||d6.parentNode==d5.sizer&&d6!=d5.mover){return true}}}function bv(d5,ea,d7){var d9=d5.display;if(!d7){var d8=B(ea);if(d8==d9.scrollbarH||d8==d9.scrollbarH.firstChild||d8==d9.scrollbarV||d8==d9.scrollbarV.firstChild||d8==d9.scrollbarFiller){return null}}var d4,eb,d6=ai(d9.lineSpace);try{d4=ea.clientX;eb=ea.clientY}catch(ea){return null}return dP(d5,d4-d6.left,eb-d6.top)}var b8,b3;function cO(el){var d7=this,eg=d7.display,en=d7.doc,ef=en.sel;ef.shift=el.shiftKey;if(ax(eg,el)){if(!bU){eg.scroller.draggable=false;setTimeout(function(){eg.scroller.draggable=true},100)}return}if(k(d7,el)){return}var d6=bv(d7,el);switch(dO(el)){case 3:if(bJ){Z.call(d7,d7,el)}return;case 2:if(d6){dS(d7.doc,d6)}setTimeout(bA(cV,d7),20);bH(el);return}if(!d6){if(B(el)==eg.scroller){bH(el)}return}if(!d7.state.focused){bE(d7)}var d4=+new Date,d5="single";if(b3&&b3.time>d4-400&&dL(b3.pos,d6)){d5="triple";bH(el);setTimeout(bA(cV,d7),20);aH(d7,d6.line)}else{if(b8&&b8.time>d4-400&&dL(b8.pos,d6)){d5="double";b3={time:d4,pos:d6};bH(el);var ei=X(dm(en,d6.line).text,d6);dS(d7.doc,ei.from,ei.to)}else{b8={time:d4,pos:d6}}}var d8=d6;if(d7.options.dragDrop&&c5&&!P(d7)&&!dL(ef.from,ef.to)&&!dn(d6,ef.from)&&!dn(ef.to,d6)&&d5=="single"){var eh=bV(d7,function(eo){if(bU){eg.scroller.draggable=false}d7.state.draggingText=false;cE(document,"mouseup",eh);cE(eg.scroller,"drop",eh);if(Math.abs(el.clientX-eo.clientX)+Math.abs(el.clientY-eo.clientY)<10){bH(eo);dS(d7.doc,d6);cV(d7)}});if(bU){eg.scroller.draggable=true}d7.state.draggingText=eh;if(eg.scroller.dragDrop){eg.scroller.dragDrop()}ba(document,"mouseup",eh);ba(eg.scroller,"drop",eh);return}bH(el);if(d5=="single"){dS(d7.doc,dM(en,d6))}var em=ef.from,ec=ef.to;function ej(ep){if(d5=="single"){dS(d7.doc,dM(en,d6),ep);return}em=dM(en,em);ec=dM(en,ec);if(d5=="double"){var eo=X(dm(en,ep.line).text,ep);if(dn(ep,em)){dS(d7.doc,eo.from,ec)}else{dS(d7.doc,em,eo.to)}}else{if(d5=="triple"){if(dn(ep,em)){dS(d7.doc,ec,dM(en,I(ep.line,0)))}else{dS(d7.doc,em,dM(en,I(ep.line+1,0)))}}}}var ed=ai(eg.wrapper);var d9=0;function ek(eq){var eo=++d9;var es=bv(d7,eq,true);if(!es){return}if(!dL(es,d8)){if(!d7.state.focused){bE(d7)}d8=es;ej(es);var er=be(eg,en);if(es.line>=er.to||es.line<er.from){setTimeout(bV(d7,function(){if(d9==eo){ek(eq)}}),150)}}else{var ep=eq.clientY<ed.top?-20:eq.clientY>ed.bottom?20:0;if(ep){setTimeout(bV(d7,function(){if(d9!=eo){return}eg.scroller.scrollTop+=ep;ek(eq)}),50)}}}function eb(eo){d9=Infinity;var ep=bv(d7,eo);if(ep){ej(ep)}bH(eo);cV(d7);cE(document,"mousemove",ee);cE(document,"mouseup",ea)}var ee=bV(d7,function(eo){if(!cl&&!dO(eo)){eb(eo)}else{ek(eo)}});var ea=bV(d7,eb);ba(document,"mousemove",ee);ba(document,"mouseup",ea)}function aE(ea){var ec=this;if(ax(ec.display,ea)||(ec.options.onDragEvent&&ec.options.onDragEvent(ec,U(ea)))){return}bH(ea);var eb=bv(ec,ea,true),d4=ea.dataTransfer.files;if(!eb||P(ec)){return}if(d4&&d4.length&&window.FileReader&&window.File){var d6=d4.length,ee=Array(d6),d5=0;var d7=function(eh,eg){var ef=new FileReader;ef.onload=function(){ee[eg]=ef.result;if(++d5==d6){eb=dM(ec.doc,eb);aC(ec.doc,{from:eb,to:eb,text:ar(ee.join("\n")),origin:"paste"},"around")}};ef.readAsText(eh)};for(var d8=0;d8<d6;++d8){d7(d4[d8],d8)}}else{if(ec.state.draggingText&&!(dn(eb,ec.doc.sel.from)||dn(ec.doc.sel.to,eb))){ec.state.draggingText(ea);setTimeout(bA(cV,ec),20);return}try{var ee=ea.dataTransfer.getData("Text");if(ee){var ed=ec.doc.sel.from,d9=ec.doc.sel.to;a8(ec.doc,eb,eb);if(ec.state.draggingText){at(ec.doc,"",ed,d9,"paste")}ec.replaceSelection(ee,null,"paste");cV(ec);bE(ec)}}catch(ea){}}}function k(ec,ea){var eb=ec.display;try{var d5=ea.clientX,d4=ea.clientY}catch(ea){return false}if(d5>=Math.floor(ai(eb.gutters).right)){return false}bH(ea);if(!dt(ec,"gutterClick")){return true}var d9=ai(eb.lineDiv);if(d4>d9.bottom){return true}d4-=d9.top-eb.viewOffset;for(var d7=0;d7<ec.options.gutters.length;++d7){var d8=eb.gutters.childNodes[d7];if(d8&&ai(d8).right>=d5){var ed=aX(ec.doc,d4);var d6=ec.options.gutters[d7];M(ec,"gutterClick",ec,ed,d6,ea);break}}return true}function G(d5,d7){if(ax(d5.display,d7)){return}var d4=d5.getSelection();d7.dataTransfer.setData("Text",d4);if(d7.dataTransfer.setDragImage){var d6=dU("img",null,null,"position: fixed; left: 0; top: 0;");if(dE){d6.width=d6.height=1;d5.display.wrapper.appendChild(d6);d6._top=d6.offsetTop}if(ac){if(d5.display.dragImg){d6=d5.display.dragImg}else{d5.display.dragImg=d6;d6.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";d5.display.wrapper.appendChild(d6)}}d7.dataTransfer.setDragImage(d6,0,0);if(dE){d6.parentNode.removeChild(d6)}}}function D(d4,d5){if(Math.abs(d4.doc.scrollTop-d5)<2){return}d4.doc.scrollTop=d5;if(!bw){cm(d4,[],d5)}if(d4.display.scroller.scrollTop!=d5){d4.display.scroller.scrollTop=d5}if(d4.display.scrollbarV.scrollTop!=d5){d4.display.scrollbarV.scrollTop=d5}if(bw){cm(d4,[])}}function aV(d4,d6,d5){if(d5?d6==d4.doc.scrollLeft:Math.abs(d4.doc.scrollLeft-d6)<2){return}d6=Math.min(d6,d4.display.scroller.scrollWidth-d4.display.scroller.clientWidth);d4.doc.scrollLeft=d6;cZ(d4);if(d4.display.scroller.scrollLeft!=d6){d4.display.scroller.scrollLeft=d6}if(d4.display.scrollbarH.scrollLeft!=d6){d4.display.scrollbarH.scrollLeft=d6}}var du=0,bo=null;if(cl){bo=-0.53}else{if(bw){bo=15}else{if(b2){bo=-0.7}else{if(ac){bo=-1/3}}}}function b(ea,d5){var ed=d5.wheelDeltaX,ec=d5.wheelDeltaY;if(ed==null&&d5.detail&&d5.axis==d5.HORIZONTAL_AXIS){ed=d5.detail}if(ec==null&&d5.detail&&d5.axis==d5.VERTICAL_AXIS){ec=d5.detail}else{if(ec==null){ec=d5.wheelDelta}}if(ec&&bf&&bU){for(var eb=d5.target;eb!=d9;eb=eb.parentNode){if(eb.lineObj){ea.display.currentWheelTarget=eb;break}}}var d7=ea.display,d9=d7.scroller;if(ed&&!bw&&!dE&&bo!=null){if(ec){D(ea,Math.max(0,Math.min(d9.scrollTop+ec*bo,d9.scrollHeight-d9.clientHeight)))}aV(ea,Math.max(0,Math.min(d9.scrollLeft+ed*bo,d9.scrollWidth-d9.clientWidth)));bH(d5);d7.wheelStartX=null;return}if(ec&&bo!=null){var d4=ec*bo;var d8=ea.doc.scrollTop,d6=d8+d7.wrapper.clientHeight;if(d4<0){d8=Math.max(0,d8+d4-50)}else{d6=Math.min(ea.doc.height,d6+d4+50)}cm(ea,[],{top:d8,bottom:d6})}if(du<20){if(d7.wheelStartX==null){d7.wheelStartX=d9.scrollLeft;d7.wheelStartY=d9.scrollTop;d7.wheelDX=ed;d7.wheelDY=ec;setTimeout(function(){if(d7.wheelStartX==null){return}var ee=d9.scrollLeft-d7.wheelStartX;var eg=d9.scrollTop-d7.wheelStartY;var ef=(eg&&d7.wheelDY&&eg/d7.wheelDY)||(ee&&d7.wheelDX&&ee/d7.wheelDX);d7.wheelStartX=d7.wheelStartY=null;if(!ef){return}bo=(bo*du+ef)/(du+1);++du},200)}else{d7.wheelDX+=ed;d7.wheelDY+=ec}}}function dR(d5,d8,d4){if(typeof d8=="string"){d8=cX[d8];if(!d8){return false}}if(d5.display.pollingFast&&bp(d5)){d5.display.pollingFast=false}var d9=d5.doc,d7=d9.sel.shift,d6=false;try{if(P(d5)){d5.state.suppressEdits=true}if(d4){d9.sel.shift=false}d6=d8(d5)!=bk}finally{d9.sel.shift=d7;d5.state.suppressEdits=false}return d6}function cc(d4){var d5=d4.state.keyMaps.slice(0);if(d4.options.extraKeys){d5.push(d4.options.extraKeys)}d5.push(d4.options.keyMap);return d5}var V;function dr(d4,ea){var d5=dT(d4.options.keyMap),d8=d5.auto;clearTimeout(V);if(d8&&!cW(ea)){V=setTimeout(function(){if(dT(d4.options.keyMap)==d5){d4.options.keyMap=(d8.call?d8.call(null,d4):d8)}},50)}var d7=dz(ea,true),d9=false;if(!d7){return false}var d6=cc(d4);if(ea.shiftKey){d9=g("Shift-"+d7,d6,function(eb){return dR(d4,eb,true)})||g(d7,d6,function(eb){if(typeof eb=="string"&&/^go[A-Z]/.test(eb)){return dR(d4,eb)}})}else{d9=g(d7,d6,function(eb){return dR(d4,eb)})}if(d9=="stop"){d9=false}if(d9){bH(ea);l(d4);if(bs){ea.oldKeyCode=ea.keyCode;ea.keyCode=0}}return d9}function cI(d4,d7,d5){var d6=g("'"+d5+"'",cc(d4),function(d8){return dR(d4,d8,true)});if(d6){bH(d7);l(d4)}return d6}var b7=null;function m(d7){var d4=this;if(!d4.state.focused){bE(d4)}if(cl&&d7.keyCode==27){d7.returnValue=false}if(d4.options.onKeyEvent&&d4.options.onKeyEvent(d4,U(d7))){return}var d5=d7.keyCode;d4.doc.sel.shift=d5==16||d7.shiftKey;var d6=dr(d4,d7);if(dE){b7=d6?d5:null;if(!d6&&d5==88&&!b1&&(bf?d7.metaKey:d7.ctrlKey)){d4.replaceSelection("")}}}function bB(d8){var d4=this;if(d4.options.onKeyEvent&&d4.options.onKeyEvent(d4,U(d8))){return}var d7=d8.keyCode,d5=d8.charCode;if(dE&&d7==b7){b7=null;bH(d8);return}if(((dE&&(!d8.which||d8.which<10))||ay)&&dr(d4,d8)){return}var d6=String.fromCharCode(d5==null?d7:d5);if(this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!P(this)&&this.doc.mode.electricChars.indexOf(d6)>-1){setTimeout(bV(d4,function(){L(d4,d4.doc.sel.to.line,"smart")}),75)}if(cI(d4,d8,d6)){return}u(d4)}function bE(d4){if(d4.options.readOnly=="nocursor"){return}if(!d4.state.focused){ad(d4,"focus",d4);d4.state.focused=true;if(d4.display.wrapper.className.search(/\bCodeMirror-focused\b/)==-1){d4.display.wrapper.className+=" CodeMirror-focused"}dx(d4,true)}aJ(d4);l(d4)}function an(d4){if(d4.state.focused){ad(d4,"blur",d4);d4.state.focused=false;d4.display.wrapper.className=d4.display.wrapper.className.replace(" CodeMirror-focused","")}clearInterval(d4.display.blinker);setTimeout(function(){if(!d4.state.focused){d4.doc.sel.shift=false}},150)}var dI;function Z(ec,d7){var d9=ec.display,d5=ec.doc.sel;if(ax(d9,d7)){return}var eb=bv(ec,d7),d4=d9.scroller.scrollTop;if(!eb||dE){return}if(dL(d5.from,d5.to)||dn(eb,d5.from)||!dn(eb,d5.to)){bV(ec,a8)(ec.doc,eb,eb)}var d8=d9.input.style.cssText;d9.inputDiv.style.position="absolute";d9.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(d7.clientY-5)+"px; left: "+(d7.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);";cV(ec);dx(ec,true);if(dL(d5.from,d5.to)){d9.input.value=d9.prevInput=" "}function ea(){d9.inputDiv.style.position="relative";d9.input.style.cssText=d8;if(bs){d9.scrollbarV.scrollTop=d9.scroller.scrollTop=d4}aJ(ec);if(d9.input.selectionStart!=null&&(!cl||bs)){clearTimeout(dI);var ee=d9.input.value=" "+(dL(d5.from,d5.to)?"":d9.input.value),ed=0;d9.prevInput=" ";d9.input.selectionStart=1;d9.input.selectionEnd=ee.length;var ef=function(){if(d9.prevInput==" "&&d9.input.selectionStart==0){bV(ec,cX.selectAll)(ec)}else{if(ed++<10){dI=setTimeout(ef,500)}else{dx(ec)}}};dI=setTimeout(ef,200)}}if(bJ){cM(d7);var d6=function(){cE(window,"mouseup",d6);setTimeout(ea,20)};ba(window,"mouseup",d6)}else{setTimeout(ea,50)}}function bR(d4){return I(d4.from.line+d4.text.length-1,dK(d4.text).length+(d4.text.length==1?d4.from.ch:0))}function cY(d8,ea,d9){if(!dn(ea.from,d9)){return dM(d8,d9)}var d7=(ea.text.length-1)-(ea.to.line-ea.from.line);if(d9.line>ea.to.line+d7){var d6=d9.line-d7,d5=d8.first+d8.size-1;if(d6>d5){return I(d5,dm(d8,d5).text.length)}return dA(d9,dm(d8,d6).text.length)}if(d9.line==ea.to.line+d7){return dA(d9,dK(ea.text).length+(ea.text.length==1?ea.from.ch:0)+dm(d8,ea.to.line).text.length-ea.to.ch)}var d4=d9.line-ea.from.line;return dA(d9,ea.text[d4].length+(d4?0:ea.from.ch))}function ds(d5,d8,d6){if(d6&&typeof d6=="object"){return{anchor:cY(d5,d8,d6.anchor),head:cY(d5,d8,d6.head)}}if(d6=="start"){return{anchor:d8.from,head:d8.from}}var d4=bR(d8);if(d6=="around"){return{anchor:d8.from,head:d4}}if(d6=="end"){return{anchor:d4,head:d4}}var d7=function(eb){if(dn(eb,d8.from)){return eb}if(!dn(d8.to,eb)){return d4}var d9=eb.line+d8.text.length-(d8.to.line-d8.from.line)-1,ea=eb.ch;if(eb.line==d8.to.line){ea+=d4.ch-d8.to.ch}return I(d9,ea)};return{anchor:d7(d5.sel.anchor),head:d7(d5.sel.head)}}function cr(d5,d6){var d4={canceled:false,from:d6.from,to:d6.to,text:d6.text,origin:d6.origin,update:function(ea,d9,d8,d7){if(ea){this.from=dM(d5,ea)}if(d9){this.to=dM(d5,d9)}if(d8){this.text=d8}if(d7!==undefined){this.origin=d7}},cancel:function(){this.canceled=true}};ad(d5,"beforeChange",d5,d4);if(d5.cm){ad(d5.cm,"beforeChange",d5.cm,d4)}if(d4.canceled){return null}return{from:d4.from,to:d4.to,text:d4.text,origin:d4.origin}}function aC(d7,d9,d8,d6){if(d7.cm){if(!d7.cm.curOp){return bV(d7.cm,aC)(d7,d9,d8,d6)}if(d7.cm.state.suppressEdits){return}}if(dt(d7,"beforeChange")||d7.cm&&dt(d7.cm,"beforeChange")){d9=cr(d7,d9);if(!d9){return}}var d5=dZ&&!d6&&bI(d7,d9.from,d9.to);if(d5){for(var d4=d5.length-1;d4>=1;--d4){ak(d7,{from:d5[d4].from,to:d5[d4].to,text:[""]})}if(d5.length){ak(d7,{from:d5[0].from,to:d5[0].to,text:d9.text},d8)}}else{ak(d7,d9,d8)}}function ak(d6,d8,d7){var d5=ds(d6,d8,d7);c2(d6,d8,d5,d6.cm?d6.cm.curOp.id:NaN);cD(d6,d8,d5,cJ(d6,d8));var d4=[];cy(d6,function(ea,d9){if(!d9&&b6(d4,ea.history)==-1){ck(ea.history,d8);d4.push(ea.history)}cD(ea,d8,null,cJ(ea,d8))})}function bh(ec,d9){if(ec.cm&&ec.cm.state.suppressEdits){return}var d8=ec.history;var d5=(d9=="undo"?d8.done:d8.undone).pop();if(!d5){return}d8.dirtyCounter+=d9=="undo"?-1:1;var ea={changes:[],anchorBefore:d5.anchorAfter,headBefore:d5.headAfter,anchorAfter:d5.anchorBefore,headAfter:d5.headBefore};(d9=="undo"?d8.undone:d8.done).push(ea);for(var d6=d5.changes.length-1;d6>=0;--d6){var eb=d5.changes[d6];eb.origin=d9;ea.changes.push(cd(ec,eb));var d4=d6?ds(ec,eb,null):{anchor:d5.anchorBefore,head:d5.headBefore};cD(ec,eb,d4,cA(ec,eb));var d7=[];cy(ec,function(ee,ed){if(!ed&&b6(d7,ee.history)==-1){ck(ee.history,eb);d7.push(ee.history)}cD(ee,eb,null,cA(ee,eb))})}}function dv(d4,d6){function d5(d7){return I(d7.line+d6,d7.ch)}d4.first+=d6;if(d4.cm){N(d4.cm,d4.first,d4.first,d6)}d4.sel.head=d5(d4.sel.head);d4.sel.anchor=d5(d4.sel.anchor);d4.sel.from=d5(d4.sel.from);d4.sel.to=d5(d4.sel.to)}function cD(d8,d9,d7,d5){if(d8.cm&&!d8.cm.curOp){return bV(d8.cm,cD)(d8,d9,d7,d5)}if(d9.to.line<d8.first){dv(d8,d9.text.length-1-(d9.to.line-d9.from.line));return}if(d9.from.line>d8.lastLine()){return}if(d9.from.line<d8.first){var d4=d9.text.length-1-(d8.first-d9.from.line);dv(d8,d4);d9={from:I(d8.first,0),to:I(d9.to.line+d4,d9.to.ch),text:[dK(d9.text)],origin:d9.origin}}var d6=d8.lastLine();if(d9.to.line>d6){d9={from:d9.from,to:I(d6,dm(d8,d6).text.length),text:[d9.text[0]],origin:d9.origin}}d9.removed=dV(d8,d9.from,d9.to);if(!d7){d7=ds(d8,d9,null)}if(d8.cm){ag(d8.cm,d9,d5,d7)}else{dF(d8,d9,d5,d7)}}function ag(ee,ea,d7,d4){var ed=ee.doc,d9=ee.display,eb=ea.from,ec=ea.to;var d5=false,d6=eb.line;if(!ee.options.lineWrapping){d6=a3(t(ed,dm(ed,eb.line)));ed.iter(d6,ec.line+1,function(eh){if(eh==d9.maxLine){d5=true;return true}})}dF(ed,ea,d7,d4,aA(ee));if(!ee.options.lineWrapping){ed.iter(d6,eb.line+ea.text.length,function(ei){var eh=cK(ed,ei);if(eh>d9.maxLineLength){d9.maxLine=ei;d9.maxLineLength=eh;d9.maxLineChanged=true;d5=false}});if(d5){ee.curOp.updateMaxLine=true}}ed.frontier=Math.min(ed.frontier,eb.line);cF(ee,400);var eg=ea.text.length-(ec.line-eb.line)-1;N(ee,eb.line,ec.line+1,eg);if(dt(ee,"change")){var d8={from:eb,to:ec,text:ea.text,removed:ea.removed,origin:ea.origin};if(ee.curOp.textChanged){for(var ef=ee.curOp.textChanged;ef.next;ef=ef.next){}ef.next=d8}else{ee.curOp.textChanged=d8}}}function at(d7,d6,d9,d8,d4){if(!d8){d8=d9}if(dn(d8,d9)){var d5=d8;d8=d9;d9=d5}if(typeof d6=="string"){d6=ar(d6)}aC(d7,{from:d9,to:d8,text:d6,origin:d4},null)}function I(d4,d5){if(!(this instanceof I)){return new I(d4,d5)}this.line=d4;this.ch=d5}z.Pos=I;function dL(d5,d4){return d5.line==d4.line&&d5.ch==d4.ch}function dn(d5,d4){return d5.line<d4.line||(d5.line==d4.line&&d5.ch<d4.ch)}function bq(d4){return I(d4.line,d4.ch)}function bX(d4,d5){return Math.max(d4.first,Math.min(d5,d4.first+d4.size-1))}function dM(d5,d6){if(d6.line<d5.first){return I(d5.first,0)}var d4=d5.first+d5.size-1;if(d6.line>d4){return I(d4,dm(d5,d4).text.length)}return dA(d6,dm(d5,d6.line).text.length)}function dA(d6,d5){var d4=d6.ch;if(d4==null||d4>d5){return I(d6.line,d5)}else{if(d4<0){return I(d6.line,0)}else{return d6}}}function bi(d5,d4){return d4>=d5.first&&d4<d5.first+d5.size}function dS(d8,d9,d4,d5){if(d8.sel.shift||d8.sel.extend){var d7=d8.sel.anchor;if(d4){var d6=dn(d9,d7);if(d6!=dn(d4,d7)){d7=d9;d9=d4}else{if(d6!=dn(d9,d4)){d9=d4}}}a8(d8,d7,d9,d5)}else{a8(d8,d9,d4||d9,d5)}if(d8.cm){d8.cm.curOp.userSelChange=true}}function c(d7,d4,d5){var d6={anchor:d4,head:d5};ad(d7,"beforeSelectionChange",d7,d6);if(d7.cm){ad(d7.cm,"beforeSelectionChange",d7.cm,d6)}d6.anchor=dM(d7,d6.anchor);d6.head=dM(d7,d6.head);return d6}function a8(eb,d8,d9,d6,d5){if(!d5&&dt(eb,"beforeSelectionChange")||eb.cm&&dt(eb.cm,"beforeSelectionChange")){var d7=c(eb,d8,d9);d9=d7.head;d8=d7.anchor}var ea=eb.sel;ea.goalColumn=null;if(d5||!dL(d8,ea.anchor)){d8=a9(eb,d8,d6,d5!="push")}if(d5||!dL(d9,ea.head)){d9=a9(eb,d9,d6,d5!="push")}if(dL(ea.anchor,d8)&&dL(ea.head,d9)){return}ea.anchor=d8;ea.head=d9;var d4=dn(d9,d8);ea.from=d4?d9:d8;ea.to=d4?d8:d9;if(eb.cm){eb.cm.curOp.updateInput=eb.cm.curOp.selectionChanged=true}M(eb,"cursorActivity",eb)}function cR(d4){a8(d4.doc,d4.doc.sel.from,d4.doc.sel.to,null,"push")}function a9(ed,ec,d9,ea){var ee=false,d6=ec;var d7=d9||1;ed.cantEdit=false;search:for(;;){var ef=dm(ed,d6.line);if(ef.markedSpans){for(var d8=0;d8<ef.markedSpans.length;++d8){var d4=ef.markedSpans[d8],d5=d4.marker;if((d4.from==null||(d5.inclusiveLeft?d4.from<=d6.ch:d4.from<d6.ch))&&(d4.to==null||(d5.inclusiveRight?d4.to>=d6.ch:d4.to>d6.ch))){if(ea){ad(d5,"beforeCursorEnter");if(d5.explicitlyCleared){if(!ef.markedSpans){break}else{--d8;continue}}}if(!d5.atomic){continue}var eb=d5.find()[d7<0?"from":"to"];if(dL(eb,d6)){eb.ch+=d7;if(eb.ch<0){if(eb.line>ed.first){eb=dM(ed,I(eb.line-1))}else{eb=null}}else{if(eb.ch>ef.text.length){if(eb.line<ed.first+ed.size-1){eb=I(eb.line+1,0)}else{eb=null}}}if(!eb){if(ee){if(!ea){return a9(ed,ec,d9,true)}ed.cantEdit=true;return I(ed.first,0)}ee=true;eb=ec;d7=-d7}}d6=eb;continue search}}}return d6}}function aa(d5){var d8=v(d5,d5.doc.sel.head);if(!d5.state.focused){return}var d9=d5.display,d6=ai(d9.sizer),d4=null,ea=di(d5.display);if(d8.top+ea+d6.top<0){d4=true}else{if(d8.bottom+ea+d6.top>(window.innerHeight||document.documentElement.clientHeight)){d4=false}}if(d4!=null&&!dB){var d7=d9.cursor.style.display=="none";if(d7){d9.cursor.style.display="";d9.cursor.style.left=d8.left+"px";d9.cursor.style.top=(d8.top-d9.viewOffset)+"px"}d9.cursor.scrollIntoView(d4);if(d7){d9.cursor.style.display="none"}}}function v(d4,eb,d8){if(d8==null){d8=0}for(;;){var d9=false,d7=cs(d4,eb);var ea=y(d4,d7.left,d7.top-d8,d7.left,d7.bottom+d8);var d5=d4.doc.scrollTop,d6=d4.doc.scrollLeft;if(ea.scrollTop!=null){D(d4,ea.scrollTop);if(Math.abs(d4.doc.scrollTop-d5)>1){d9=true}}if(ea.scrollLeft!=null){aV(d4,ea.scrollLeft);if(Math.abs(d4.doc.scrollLeft-d6)>1){d9=true}}if(!d9){return d7}}}function x(d4,d6,d8,d5,d7){var d9=y(d4,d6,d8,d5,d7);if(d9.scrollTop!=null){D(d4,d9.scrollTop)}if(d9.scrollLeft!=null){aV(d4,d9.scrollLeft)}}function y(ef,d7,ee,d5,ed){var ec=ef.display,ek=di(ec);ee+=ek;ed+=ek;var eh=ec.scroller.clientHeight-aF,d8=ec.scroller.scrollTop,ej={};var d6=ef.doc.height+aZ(ec);var d4=ee<ek+10,eb=ed+ek>d6-10;if(ee<d8){ej.scrollTop=d4?0:Math.max(0,ee)}else{if(ed>d8+eh){ej.scrollTop=(eb?d6:ed)-eh}}var eg=ec.scroller.clientWidth-aF,ei=ec.scroller.scrollLeft;d7+=ec.gutters.offsetWidth;d5+=ec.gutters.offsetWidth;var ea=ec.gutters.offsetWidth;var d9=d7<ea+10;if(d7<ei+ea||d9){if(d9){d7=0}ej.scrollLeft=Math.max(0,d7-10-ea)}else{if(d5>eg+ei-3){ej.scrollLeft=d5+10-eg}}return ej}function w(d4,d6,d5){d4.curOp.updateScrollPos={scrollLeft:d6,scrollTop:d5}}function bM(d5,d7,d6){var d8=d5.curOp.updateScrollPos||(d5.curOp.updateScrollPos={scrollLeft:d5.doc.scrollLeft,scrollTop:d5.doc.scrollTop});var d4=d5.display.scroller;d8.scrollTop=Math.max(0,Math.min(d4.scrollHeight-d4.clientHeight,d8.scrollTop+d6));d8.scrollLeft=Math.max(0,Math.min(d4.scrollWidth-d4.clientWidth,d8.scrollLeft+d7))}function L(eg,d7,ef,d6){var ee=eg.doc;if(!ef){ef="add"}if(ef=="smart"){if(!eg.doc.mode.indent){ef="prev"}else{var d5=ch(eg,d7)}}var ea=eg.options.tabSize;var eh=dm(ee,d7),d9=a6(eh.text,null,ea);var d4=eh.text.match(/^\s*/)[0],ec;if(ef=="smart"){ec=eg.doc.mode.indent(d5,eh.text.slice(d4.length),eh.text);if(ec==bk){if(!d6){return}ef="prev"}}if(ef=="prev"){if(d7>ee.first){ec=a6(dm(ee,d7-1).text,null,ea)}else{ec=0}}else{if(ef=="add"){ec=d9+eg.options.indentUnit}else{if(ef=="subtract"){ec=d9-eg.options.indentUnit}}}ec=Math.max(0,ec);var ed="",eb=0;if(eg.options.indentWithTabs){for(var d8=Math.floor(ec/ea);d8;--d8){eb+=ea;ed+="\t"}}if(eb<ec){ed+=bx(ec-eb)}if(ed!=d4){at(eg.doc,ed,I(d7,0),I(d7,d4.length),"+input")}eh.stateAfter=null}function cT(d4,d6,d9){var d8=d6,d5=d6,d7=d4.doc;if(typeof d6=="number"){d5=dm(d7,bX(d7,d6))}else{d8=a3(d6)}if(d8==null){return null}if(d9(d5,d8)){N(d4,d8,d8+1)}else{return null}return d5}function aR(ef,ee,d7,eg,d6){var ek=ee.line,d4=ee.ch;var eb=dm(ef,ek);var d8=true;function d5(){var el=ek+d7;if(el<ef.first||el>=ef.first+ef.size){return(d8=false)}ek=el;return eb=dm(ef,el)}function d9(em){var el=(d6?q:O)(eb,d4,d7,true);if(el==null){if(!em&&d5()){if(d6){d4=(d7<0?bQ:bG)(eb)}else{d4=d7<0?eb.text.length:0}}else{return(d8=false)}}else{d4=el}return true}if(eg=="char"){d9()}else{if(eg=="column"){d9(true)}else{if(eg=="word"||eg=="group"){var ed=null,ei=eg=="group";for(var ea=true;;ea=false){if(d7<0&&!d9(!ea)){break}var eh=eb.text.charAt(d4)||"\n";var ec=bD(eh)?"w":!ei?null:/\s/.test(eh)?null:"p";if(ed&&ed!=ec){if(d7<0){d7=1;d9()}break}if(ec){ed=ec}if(d7>0&&!d9(!ea)){break}}}}}var ej=a9(ef,I(ek,d4),d7,true);if(!d8){ej.hitSide=true}return ej}function aN(ec,d7,d4,eb){var ea=ec.doc,d9=d7.left,d8;if(eb=="page"){var d6=Math.min(ec.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);d8=d7.top+d4*(d6-(d4<0?1.5:0.5)*ap(ec.display))}else{if(eb=="line"){d8=d4>0?d7.bottom+3:d7.top-3}}for(;;){var d5=dP(ec,d9,d8);if(!d5.outside){break}if(d4<0?d8<=0:d8>=ea.height){d5.hitSide=true;break}d8+=d4*5}return d5}function X(d7,d9){var d8=d9.ch,d6=d9.ch;if(d7){if(d9.after===false||d6==d7.length){--d8}else{++d6}var d5=d7.charAt(d8);var d4=bD(d5)?bD:/\s/.test(d5)?function(ea){return/\s/.test(ea)}:function(ea){return !/\s/.test(ea)&&!bD(ea)};while(d8>0&&d4(d7.charAt(d8-1))){--d8}while(d6<d7.length&&d4(d7.charAt(d6))){++d6}}return{from:I(d9.line,d8),to:I(d9.line,d6)}}function aH(d4,d5){dS(d4.doc,I(d5,0),dM(d4.doc,I(d5+1,0)))}z.prototype={focus:function(){window.focus();cV(this);bE(this);u(this)},setOption:function(d6,d7){var d5=this.options,d4=d5[d6];if(d5[d6]==d7&&d6!="mode"){return}d5[d6]=d7;if(aB.hasOwnProperty(d6)){bV(this,aB[d6])(this,d7,d4)}},getOption:function(d4){return this.options[d4]},getDoc:function(){return this.doc},addKeyMap:function(d5,d4){this.state.keyMaps[d4?"push":"unshift"](d5)},removeKeyMap:function(d5){var d6=this.state.keyMaps;for(var d4=0;d4<d6.length;++d4){if((typeof d5=="string"?d6[d4].name:d6[d4])==d5){d6.splice(d4,1);return true}}},addOverlay:bV(null,function(d4,d5){var d6=d4.token?d4:z.getMode(this.options,d4);if(d6.startState){throw new Error("Overlays may not be stateful.")}this.state.overlays.push({mode:d6,modeSpec:d4,opaque:d5&&d5.opaque});this.state.modeGen++;N(this)}),removeOverlay:bV(null,function(d4){var d6=this.state.overlays;for(var d5=0;d5<d6.length;++d5){if(d6[d5].modeSpec==d4){d6.splice(d5,1);this.state.modeGen++;N(this);return}}}),indentLine:bV(null,function(d6,d4,d5){if(typeof d4!="string"){if(d4==null){d4=this.options.smartIndent?"smart":"prev"}else{d4=d4?"add":"subtract"}}if(bi(this.doc,d6)){L(this,d6,d4,d5)}}),indentSelection:bV(null,function(d5){var d6=this.doc.sel;if(dL(d6.from,d6.to)){return L(this,d6.from.line,d5)}var d7=d6.to.line-(d6.to.ch?0:1);for(var d4=d6.from.line;d4<=d7;++d4){L(this,d4,d5)}}),getTokenAt:function(ea){var d7=this.doc;ea=dM(d7,ea);var d6=ch(this,ea.line),d9=this.doc.mode;var d4=dm(d7,ea.line);var d8=new da(d4.text,this.options.tabSize);while(d8.pos<ea.ch&&!d8.eol()){d8.start=d8.pos;var d5=d9.token(d8,d6)}return{start:d8.start,end:d8.pos,string:d8.current(),className:d5||null,type:d5||null,state:d6}},getStateAfter:function(d4){var d5=this.doc;d4=bX(d5,d4==null?d5.first+d5.size-1:d4);return ch(this,d4+1)},cursorCoords:function(d7,d5){var d6,d4=this.doc.sel;if(d7==null){d6=d4.head}else{if(typeof d7=="object"){d6=dM(this.doc,d7)}else{d6=d7?d4.from:d4.to}}return cs(this,d6,d5||"page")},charCoords:function(d5,d4){return bL(this,dM(this.doc,d5),d4||"page")},coordsChar:function(d4,d5){d4=d1(this,d4,d5||"page");return dP(this,d4.left,d4.top)},defaultTextHeight:function(){return ap(this.display)},defaultCharWidth:function(){return cj(this.display)},setGutterMarker:bV(null,function(d4,d5,d6){return cT(this,d4,function(d7){var d8=d7.gutterMarkers||(d7.gutterMarkers={});d8[d5]=d6;if(!d6&&db(d8)){d7.gutterMarkers=null}return true})}),clearGutter:bV(null,function(d6){var d4=this,d7=d4.doc,d5=d7.first;d7.iter(function(d8){if(d8.gutterMarkers&&d8.gutterMarkers[d6]){d8.gutterMarkers[d6]=null;N(d4,d5,d5+1);if(db(d8.gutterMarkers)){d8.gutterMarkers=null}}++d5})}),addLineClass:bV(null,function(d6,d5,d4){return cT(this,d6,function(d7){var d8=d5=="text"?"textClass":d5=="background"?"bgClass":"wrapClass";if(!d7[d8]){d7[d8]=d4}else{if(new RegExp("\\b"+d4+"\\b").test(d7[d8])){return false}else{d7[d8]+=" "+d4}}return true})}),removeLineClass:bV(null,function(d6,d5,d4){return cT(this,d6,function(d7){var ea=d5=="text"?"textClass":d5=="background"?"bgClass":"wrapClass";var d9=d7[ea];if(!d9){return false}else{if(d4==null){d7[ea]=null}else{var d8=d9.replace(new RegExp("^"+d4+"\\b\\s*|\\s*\\b"+d4+"\\b"),"");if(d8==d9){return false}d7[ea]=d8||null}}return true})}),addLineWidget:bV(null,function(d6,d5,d4){return aY(this,d6,d5,d4)}),removeLineWidget:function(d4){d4.clear()},lineInfo:function(d4){if(typeof d4=="number"){if(!bi(this.doc,d4)){return null}var d5=d4;d4=dm(this.doc,d4);if(!d4){return null}}else{var d5=a3(d4);if(d5==null){return null}}return{line:d5,handle:d4,text:d4.text,gutterMarkers:d4.gutterMarkers,textClass:d4.textClass,bgClass:d4.bgClass,wrapClass:d4.wrapClass,widgets:d4.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(d9,d6,eb,d7,ed){var d8=this.display;d9=cs(this,dM(this.doc,d9));var ea=d9.bottom,d5=d9.left;d6.style.position="absolute";d8.sizer.appendChild(d6);if(d7=="over"){ea=d9.top}else{if(d7=="above"||d7=="near"){var d4=Math.max(d8.wrapper.clientHeight,this.doc.height),ec=Math.max(d8.sizer.clientWidth,d8.lineSpace.clientWidth);if((d7=="above"||d9.bottom+d6.offsetHeight>d4)&&d9.top>d6.offsetHeight){ea=d9.top-d6.offsetHeight}else{if(d9.bottom+d6.offsetHeight<=d4){ea=d9.bottom}}if(d5+d6.offsetWidth>ec){d5=ec-d6.offsetWidth}}}d6.style.top=(ea+di(d8))+"px";d6.style.left=d6.style.right="";if(ed=="right"){d5=d8.sizer.clientWidth-d6.offsetWidth;d6.style.right="0px"}else{if(ed=="left"){d5=0}else{if(ed=="middle"){d5=(d8.sizer.clientWidth-d6.offsetWidth)/2}}d6.style.left=d5+"px"}if(eb){x(this,d5,ea,d5+d6.offsetWidth,ea+d6.offsetHeight)}},triggerOnKeyDown:bV(null,m),execCommand:function(d4){return cX[d4](this)},findPosH:function(ea,d7,d8,d5){var d4=1;if(d7<0){d4=-1;d7=-d7}for(var d6=0,d9=dM(this.doc,ea);d6<d7;++d6){d9=aR(this.doc,d9,d4,d8,d5);if(d9.hitSide){break}}return d9},moveH:bV(null,function(d4,d5){var d6=this.doc.sel,d7;if(d6.shift||d6.extend||dL(d6.from,d6.to)){d7=aR(this.doc,d6.head,d4,d5,this.options.rtlMoveVisually)}else{d7=d4<0?d6.from:d6.to}dS(this.doc,d7,d7,d4)}),deleteH:bV(null,function(d4,d5){var d6=this.doc.sel;if(!dL(d6.from,d6.to)){at(this.doc,"",d6.from,d6.to,"+delete")}else{at(this.doc,"",d6.from,aR(this.doc,d6.head,d4,d5,false),"+delete")}this.curOp.userSelChange=true}),findPosV:function(d9,d6,ea,ec){var d4=1,d8=ec;if(d6<0){d4=-1;d6=-d6}for(var d5=0,eb=dM(this.doc,d9);d5<d6;++d5){var d7=cs(this,eb,"div");if(d8==null){d8=d7.left}else{d7.left=d8}eb=aN(this,d7,d4,ea);if(eb.hitSide){break}}return eb},moveV:bV(null,function(d4,d5){var d6=this.doc.sel;var d8=cs(this,d6.head,"div");if(d6.goalColumn!=null){d8.left=d6.goalColumn}var d7=aN(this,d8,d4,d5);if(d5=="page"){bM(this,0,bL(this,d7,"div").top-d8.top)}dS(this.doc,d7,d7,d4);d6.goalColumn=d8.left}),toggleOverwrite:function(){if(this.state.overwrite=!this.state.overwrite){this.display.cursor.className+=" CodeMirror-overwrite"}else{this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")}},hasFocus:function(){return this.state.focused},scrollTo:bV(null,function(d4,d5){w(this,d4,d5)}),getScrollInfo:function(){var d4=this.display.scroller,d5=aF;return{left:d4.scrollLeft,top:d4.scrollTop,height:d4.scrollHeight-d5,width:d4.scrollWidth-d5,clientHeight:d4.clientHeight-d5,clientWidth:d4.clientWidth-d5}},scrollIntoView:function(d5,d4){if(typeof d5=="number"){d5=I(d5,0)}if(!d5||d5.line!=null){d5=d5?dM(this.doc,d5):this.doc.sel.head;v(this,d5,d4)}else{x(this,d5.left,d5.top-d4,d5.right,d5.bottom+d4)}},setSize:function(d6,d4){function d5(d7){return typeof d7=="number"||/^\d+$/.test(String(d7))?d7+"px":d7}if(d6!=null){this.display.wrapper.style.width=d5(d6)}if(d4!=null){this.display.wrapper.style.height=d5(d4)}this.refresh()},on:function(d4,d5){ba(this,d4,d5)},off:function(d4,d5){cE(this,d4,d5)},operation:function(d4){return bN(this,d4)},refresh:bV(null,function(){Q(this);w(this,this.doc.scrollLeft,this.doc.scrollTop);N(this)}),swapDoc:bV(null,function(d5){var d4=this.doc;d4.cm=null;cB(this,d5);Q(this);w(this,d5.scrollLeft,d5.scrollTop);return d4}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var aB=z.optionHandlers={};var dg=z.defaults={};function o(d4,d7,d6,d5){z.defaults[d4]=d7;if(d6){aB[d4]=d5?function(d8,ea,d9){if(d9!=bl){d6(d8,ea,d9)}}:d6}}var bl=z.Init={toString:function(){return"CodeMirror.Init"}};o("value","",function(d4,d5){d4.setValue(d5)},true);o("mode",null,function(d4,d5){d4.doc.modeOption=d5;aO(d4)},true);o("indentUnit",2,aO,true);o("indentWithTabs",false);o("smartIndent",true);o("tabSize",4,function(d4){aO(d4);Q(d4);N(d4)},true);o("electricChars",true);o("rtlMoveVisually",!aj);o("theme","default",function(d4){bO(d4);ce(d4)},true);o("keyMap","default",d2);o("extraKeys",null);o("onKeyEvent",null);o("onDragEvent",null);o("lineWrapping",false,c3,true);o("gutters",[],function(d4){bn(d4.options);ce(d4)},true);o("fixedGutter",true,function(d4,d5){d4.display.gutters.style.left=d5?cu(d4.display)+"px":"0";d4.refresh()},true);o("lineNumbers",false,function(d4){bn(d4.options);ce(d4)},true);o("firstLineNumber",1,ce,true);o("lineNumberFormatter",function(d4){return d4},ce,true);o("showCursorWhenSelecting",false,aU,true);o("readOnly",false,function(d4,d5){if(d5=="nocursor"){an(d4);d4.display.input.blur()}else{if(!d5){dx(d4,true)}}});o("dragDrop",true);o("cursorBlinkRate",530);o("cursorHeight",1);o("workTime",100);o("workDelay",100);o("flattenSpans",true);o("pollInterval",100);o("undoDepth",40,function(d4,d5){d4.doc.history.undoDepth=d5});o("viewportMargin",10,function(d4){d4.refresh()},true);o("tabindex",null,function(d4,d5){d4.display.input.tabIndex=d5||""});o("autofocus",null);var cb=z.modes={},am=z.mimeModes={};z.defineMode=function(d4,d6){if(!z.defaults.mode&&d4!="null"){z.defaults.mode=d4}if(arguments.length>2){d6.dependencies=[];for(var d5=2;d5<arguments.length;++d5){d6.dependencies.push(arguments[d5])}}cb[d4]=d6};z.defineMIME=function(d5,d4){am[d5]=d4};z.resolveMode=function(d4){if(typeof d4=="string"&&am.hasOwnProperty(d4)){d4=am[d4]}else{if(typeof d4=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(d4)){return z.resolveMode("application/xml")}}if(typeof d4=="string"){return{name:d4}}else{return d4||{name:"null"}}};z.getMode=function(d5,d4){d4=z.resolveMode(d4);var d7=cb[d4.name];if(!d7){return z.getMode(d5,"text/plain")}var d8=d7(d5,d4);if(b9.hasOwnProperty(d4.name)){var d6=b9[d4.name];for(var d9 in d6){if(!d6.hasOwnProperty(d9)){continue}if(d8.hasOwnProperty(d9)){d8["_"+d9]=d8[d9]}d8[d9]=d6[d9]}}d8.name=d4.name;return d8};z.defineMode("null",function(){return{token:function(d4){d4.skipToEnd()}}});z.defineMIME("text/plain","null");var b9=z.modeExtensions={};z.extendMode=function(d6,d5){var d4=b9.hasOwnProperty(d6)?b9[d6]:(b9[d6]={});ah(d5,d4)};z.defineExtension=function(d4,d5){z.prototype[d4]=d5};z.defineOption=o;var aw=[];z.defineInitHook=function(d4){aw.push(d4)};function bd(d7,d4){if(d4===true){return d4}if(d7.copyState){return d7.copyState(d4)}var d6={};for(var d8 in d4){var d5=d4[d8];if(d5 instanceof Array){d5=d5.concat([])}d6[d8]=d5}return d6}z.copyState=bd;function bc(d6,d5,d4){return d6.startState?d6.startState(d5,d4):true}z.startState=bc;z.innerMode=function(d6,d4){while(d6.innerMode){var d5=d6.innerMode(d4);d4=d5.state;d6=d5.mode}return d5||{mode:d6,state:d4}};var cX=z.commands={selectAll:function(d4){d4.setSelection(I(d4.firstLine(),0),I(d4.lastLine()))},killLine:function(d4){var d7=d4.getCursor(true),d6=d4.getCursor(false),d5=!dL(d7,d6);if(!d5&&d4.getLine(d7.line).length==d7.ch){d4.replaceRange("",d7,I(d7.line+1,0),"+delete")}else{d4.replaceRange("",d7,d5?d6:I(d7.line),"+delete")}},deleteLine:function(d4){var d5=d4.getCursor().line;d4.replaceRange("",I(d5,0),I(d5),"+delete")},undo:function(d4){d4.undo()},redo:function(d4){d4.redo()},goDocStart:function(d4){d4.extendSelection(I(d4.firstLine(),0))},goDocEnd:function(d4){d4.extendSelection(I(d4.lastLine()))},goLineStart:function(d4){d4.extendSelection(aQ(d4,d4.getCursor().line))},goLineStartSmart:function(d5){var d9=d5.getCursor(),ea=aQ(d5,d9.line);var d6=d5.getLineHandle(ea.line);var d4=a(d6);if(!d4||d4[0].level==0){var d8=Math.max(0,d6.text.search(/\S/));var d7=d9.line==ea.line&&d9.ch<=d8&&d9.ch;d5.extendSelection(I(ea.line,d7?0:d8))}else{d5.extendSelection(ea)}},goLineEnd:function(d4){d4.extendSelection(cq(d4,d4.getCursor().line))},goLineRight:function(d4){var d5=d4.charCoords(d4.getCursor(),"div").top+5;d4.extendSelection(d4.coordsChar({left:d4.display.lineDiv.offsetWidth+100,top:d5},"div"))},goLineLeft:function(d4){var d5=d4.charCoords(d4.getCursor(),"div").top+5;d4.extendSelection(d4.coordsChar({left:0,top:d5},"div"))},goLineUp:function(d4){d4.moveV(-1,"line")},goLineDown:function(d4){d4.moveV(1,"line")},goPageUp:function(d4){d4.moveV(-1,"page")},goPageDown:function(d4){d4.moveV(1,"page")},goCharLeft:function(d4){d4.moveH(-1,"char")},goCharRight:function(d4){d4.moveH(1,"char")},goColumnLeft:function(d4){d4.moveH(-1,"column")},goColumnRight:function(d4){d4.moveH(1,"column")},goWordLeft:function(d4){d4.moveH(-1,"word")},goGroupRight:function(d4){d4.moveH(1,"group")},goGroupLeft:function(d4){d4.moveH(-1,"group")},goWordRight:function(d4){d4.moveH(1,"word")},delCharBefore:function(d4){d4.deleteH(-1,"char")},delCharAfter:function(d4){d4.deleteH(1,"char")},delWordBefore:function(d4){d4.deleteH(-1,"word")},delWordAfter:function(d4){d4.deleteH(1,"word")},delGroupBefore:function(d4){d4.deleteH(-1,"group")},delGroupAfter:function(d4){d4.deleteH(1,"group")},indentAuto:function(d4){d4.indentSelection("smart")},indentMore:function(d4){d4.indentSelection("add")},indentLess:function(d4){d4.indentSelection("subtract")},insertTab:function(d4){d4.replaceSelection("\t","end","+input")},defaultTab:function(d4){if(d4.somethingSelected()){d4.indentSelection("add")}else{d4.replaceSelection("\t","end","+input")}},transposeChars:function(d4){var d6=d4.getCursor(),d5=d4.getLine(d6.line);if(d6.ch>0&&d6.ch<d5.length-1){d4.replaceRange(d5.charAt(d6.ch)+d5.charAt(d6.ch-1),I(d6.line,d6.ch-1),I(d6.line,d6.ch+1))}},newlineAndIndent:function(d4){bV(d4,function(){d4.replaceSelection("\n","end","+input");d4.indentLine(d4.getCursor().line,null,true)})()},toggleOverwrite:function(d4){d4.toggleOverwrite()}};var dk=z.keyMap={};dk.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};dk.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};dk.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};dk["default"]=bf?dk.macDefault:dk.pcDefault;dk.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function dT(d4){if(typeof d4=="string"){return dk[d4]}else{return d4}}function g(d5,d9,d7){function d8(ef){ef=dT(ef);var ed=ef[d5];if(ed===false){return"stop"}if(ed!=null&&d7(ed)){return true}if(ef.nofallthrough){return"stop"}var ec=ef.fallthrough;if(ec==null){return false}if(Object.prototype.toString.call(ec)!="[object Array]"){return d8(ec)}for(var eb=0,ee=ec.length;eb<ee;++eb){var ea=d8(ec[eb]);if(ea){return ea}}return false}for(var d6=0;d6<d9.length;++d6){var d4=d8(d9[d6]);if(d4){return d4}}}function cW(d5){var d4=dq[d5.keyCode];return d4=="Ctrl"||d4=="Alt"||d4=="Shift"||d4=="Mod"}function dz(d5,d6){var d4=dq[d5.keyCode];if(d4==null||d5.altGraphKey){return false}if(d5.altKey){d4="Alt-"+d4}if(a5?d5.metaKey:d5.ctrlKey){d4="Ctrl-"+d4}if(a5?d5.ctrlKey:d5.metaKey){d4="Cmd-"+d4}if(!d6&&d5.shiftKey){d4="Shift-"+d4}return d4}z.lookupKey=g;z.isModifierKey=cW;z.keyName=dz;z.fromTextArea=function(eb,ec){if(!ec){ec={}}ec.value=eb.value;if(!ec.tabindex&&eb.tabindex){ec.tabindex=eb.tabindex}if(!ec.placeholder&&eb.placeholder){ec.placeholder=eb.placeholder}if(ec.autofocus==null){var d4=document.body;try{d4=document.activeElement}catch(d6){}ec.autofocus=d4==eb||eb.getAttribute("autofocus")!=null&&d4==document.body}function d8(){eb.value=ea.getValue()}if(eb.form){ba(eb.form,"submit",d8);if(!ec.leaveSubmitMethodAlone){var d5=eb.form,d9=d5.submit;try{var d7=d5.submit=function(){d8();d5.submit=d9;d5.submit();d5.submit=d7}}catch(d6){}}}eb.style.display="none";var ea=z(function(ed){eb.parentNode.insertBefore(ed,eb.nextSibling)},ec);ea.save=d8;ea.getTextArea=function(){return eb};ea.toTextArea=function(){d8();eb.parentNode.removeChild(ea.getWrapperElement());eb.style.display="";if(eb.form){cE(eb.form,"submit",d8);if(typeof eb.form.submit=="function"){eb.form.submit=d9}}};return ea};function da(d4,d5){this.pos=this.start=0;this.string=d4;this.tabSize=d5||8;this.lastColumnPos=this.lastColumnValue=0}da.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(d4){var d6=this.string.charAt(this.pos);if(typeof d4=="string"){var d5=d6==d4}else{var d5=d6&&(d4.test?d4.test(d6):d4(d6))}if(d5){++this.pos;return d6}},eatWhile:function(d4){var d5=this.pos;while(this.eat(d4)){}return this.pos>d5},eatSpace:function(){var d4=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>d4},skipToEnd:function(){this.pos=this.string.length},skipTo:function(d4){var d5=this.string.indexOf(d4,this.pos);if(d5>-1){this.pos=d5;return true}},backUp:function(d4){this.pos-=d4},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=a6(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue},indentation:function(){return a6(this.string,null,this.tabSize)},match:function(d8,d5,d4){if(typeof d8=="string"){var d9=function(ea){return d4?ea.toLowerCase():ea};var d7=this.string.substr(this.pos,d8.length);if(d9(d7)==d9(d8)){if(d5!==false){this.pos+=d8.length}return true}}else{var d6=this.string.slice(this.pos).match(d8);if(d6&&d6.index>0){return null}if(d6&&d5!==false){this.pos+=d6[0].length}return d6}},current:function(){return this.string.slice(this.start,this.pos)}};z.StringStream=da;function F(d5,d4){this.lines=[];this.type=d4;this.doc=d5}z.TextMarker=F;F.prototype.clear=function(){if(this.explicitlyCleared){return}var eb=this.doc.cm,d5=eb&&!eb.curOp;if(d5){bK(eb)}var d6=null,d9=null;for(var d7=0;d7<this.lines.length;++d7){var ec=this.lines[d7];var ea=dj(ec.markedSpans,this);if(ea.to!=null){d9=a3(ec)}ec.markedSpans=c4(ec.markedSpans,ea);if(ea.from!=null){d6=a3(ec)}else{if(this.collapsed&&!dC(this.doc,ec)&&eb){dX(ec,ap(eb.display))}}}if(eb&&this.collapsed&&!eb.options.lineWrapping){for(var d7=0;d7<this.lines.length;++d7){var d4=t(eb.doc,this.lines[d7]),d8=cK(eb.doc,d4);if(d8>eb.display.maxLineLength){eb.display.maxLine=d4;eb.display.maxLineLength=d8;eb.display.maxLineChanged=true}}}if(d6!=null&&eb){N(eb,d6,d9+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.collapsed&&this.doc.cantEdit){this.doc.cantEdit=false;if(eb){cR(eb)}}if(d5){T(eb)}M(this,"clear")};F.prototype.find=function(){var d9,d8;for(var d5=0;d5<this.lines.length;++d5){var d4=this.lines[d5];var d6=dj(d4.markedSpans,this);if(d6.from!=null||d6.to!=null){var d7=a3(d4);if(d6.from!=null){d9=I(d7,d6.from)}if(d6.to!=null){d8=I(d7,d6.to)}}}if(this.type=="bookmark"){return d9}return d9&&{from:d9,to:d8}};F.prototype.getOptions=function(d4){var d5=this.replacedWith;return{className:this.className,inclusiveLeft:this.inclusiveLeft,inclusiveRight:this.inclusiveRight,atomic:this.atomic,collapsed:this.collapsed,replacedWith:d4?d5&&d5.cloneNode(true):d5,readOnly:this.readOnly,startStyle:this.startStyle,endStyle:this.endStyle}};F.prototype.attachLine=function(d4){if(!this.lines.length&&this.doc.cm){var d5=this.doc.cm.curOp;if(!d5.maybeHiddenMarkers||b6(d5.maybeHiddenMarkers,this)==-1){(d5.maybeUnhiddenMarkers||(d5.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(d4)};F.prototype.detachLine=function(d4){this.lines.splice(b6(this.lines,d4),1);if(!this.lines.length&&this.doc.cm){var d5=this.doc.cm.curOp;(d5.maybeHiddenMarkers||(d5.maybeHiddenMarkers=[])).push(this)}};function c1(ed,eb,ec,ef,d9){if(ef&&ef.shared){return E(ed,eb,ec,ef,d9)}if(ed.cm&&!ed.cm.curOp){return bV(ed.cm,c1)(ed,eb,ec,ef,d9)}var d8=new F(ed,d9);if(d9=="range"&&!dn(eb,ec)){return d8}if(ef){ah(ef,d8)}if(d8.replacedWith){d8.collapsed=true;d8.replacedWith=dU("span",[d8.replacedWith],"CodeMirror-widget")}if(d8.collapsed){av=true}var d5=eb.line,ee=0,d7,d6,ea=ed.cm,d4;ed.iter(d5,ec.line+1,function(eg){if(ea&&d8.collapsed&&!ea.options.lineWrapping&&t(ed,eg)==ea.display.maxLine){d4=true}var eh={from:null,to:null,marker:d8};ee+=eg.text.length;if(d5==eb.line){eh.from=eb.ch;ee-=eb.ch}if(d5==ec.line){eh.to=ec.ch;ee-=eg.text.length-ec.ch}if(d8.collapsed){if(d5==ec.line){d6=aS(eg,ec.ch)}if(d5==eb.line){d7=aS(eg,eb.ch)}else{dX(eg,0)}}bm(eg,eh);++d5});if(d8.collapsed){ed.iter(eb.line,ec.line+1,function(eg){if(dC(ed,eg)){dX(eg,0)}})}if(d8.clearOnEnter){ba(d8,"beforeCursorEnter",function(){d8.clear()})}if(d8.readOnly){dZ=true;if(ed.history.done.length||ed.history.undone.length){ed.clearHistory()}}if(d8.collapsed){if(d7!=d6){throw new Error("Inserting collapsed marker overlapping an existing one")}d8.size=ee;d8.atomic=true}if(ea){if(d4){ea.curOp.updateMaxLine=true}if(d8.className||d8.startStyle||d8.endStyle||d8.collapsed){N(ea,eb.line,ec.line+1)}if(d8.atomic){cR(ea)}}return d8}function s(d7,d5){this.markers=d7;this.primary=d5;for(var d4=0,d6=this;d4<d7.length;++d4){d7[d4].parent=this;ba(d7[d4],"clear",function(){d6.clear()})}}z.SharedTextMarker=s;s.prototype.clear=function(){if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var d4=0;d4<this.markers.length;++d4){this.markers[d4].clear()}M(this,"clear")};s.prototype.find=function(){return this.primary.find()};s.prototype.getOptions=function(d5){var d4=this.primary.getOptions(d5);d4.shared=true;return d4};function E(d8,eb,ea,d4,d6){d4=ah(d4);d4.shared=false;var d9=[c1(d8,eb,ea,d4,d6)],d5=d9[0];var d7=d4.replacedWith;cy(d8,function(ed){if(d7){d4.replacedWith=d7.cloneNode(true)}d9.push(c1(ed,dM(ed,eb),dM(ed,ea),d4,d6));for(var ec=0;ec<ed.linked.length;++ec){if(ed.linked[ec].isParent){return}}d5=dK(d9)});return new s(d9,d5)}function dj(d6,d4){if(d6){for(var d5=0;d5<d6.length;++d5){var d7=d6[d5];if(d7.marker==d4){return d7}}}}function c4(d5,d6){for(var d7,d4=0;d4<d5.length;++d4){if(d5[d4]!=d6){(d7||(d7=[])).push(d5[d4])}}return d7}function bm(d4,d5){d4.markedSpans=d4.markedSpans?d4.markedSpans.concat([d5]):[d5];d5.marker.attachLine(d4)}function al(d5,d6,ea){if(d5){for(var d8=0,eb;d8<d5.length;++d8){var ec=d5[d8],d9=ec.marker;var d4=ec.from==null||(d9.inclusiveLeft?ec.from<=d6:ec.from<d6);if(d4||d9.type=="bookmark"&&ec.from==d6&&(!ea||!ec.marker.insertLeft)){var d7=ec.to==null||(d9.inclusiveRight?ec.to>=d6:ec.to>d6);(eb||(eb=[])).push({from:ec.from,to:d7?null:ec.to,marker:d9})}}}return eb}function ab(d5,d7,ea){if(d5){for(var d8=0,eb;d8<d5.length;++d8){var ec=d5[d8],d9=ec.marker;var d6=ec.to==null||(d9.inclusiveRight?ec.to>=d7:ec.to>d7);if(d6||d9.type=="bookmark"&&ec.from==d7&&(!ea||ec.marker.insertLeft)){var d4=ec.from==null||(d9.inclusiveLeft?ec.from<=d7:ec.from<d7);(eb||(eb=[])).push({from:d4?null:ec.from-d7,to:ec.to==null?null:ec.to-d7,marker:d9})}}}return eb}function cJ(eg,ed){var ec=bi(eg,ed.from.line)&&dm(eg,ed.from.line).markedSpans;var ej=bi(eg,ed.to.line)&&dm(eg,ed.to.line).markedSpans;if(!ec&&!ej){return null}var d5=ed.from.ch,d8=ed.to.ch,eb=dL(ed.from,ed.to);var ea=al(ec,d5,eb);var ei=ab(ej,d8,eb);var eh=ed.text.length==1,d6=dK(ed.text).length+(eh?d5:0);if(ea){for(var d7=0;d7<ea.length;++d7){var ef=ea[d7];if(ef.to==null){var ek=dj(ei,ef.marker);if(!ek){ef.to=d5}else{if(eh){ef.to=ek.to==null?null:ek.to+d6}}}}}if(ei){for(var d7=0;d7<ei.length;++d7){var ef=ei[d7];if(ef.to!=null){ef.to+=d6}if(ef.from==null){var ek=dj(ea,ef.marker);if(!ek){ef.from=d6;if(eh){(ea||(ea=[])).push(ef)}}}else{ef.from+=d6;if(eh){(ea||(ea=[])).push(ef)}}}}var d9=[ea];if(!eh){var ee=ed.text.length-2,d4;if(ee>0&&ea){for(var d7=0;d7<ea.length;++d7){if(ea[d7].to==null){(d4||(d4=[])).push({from:null,to:null,marker:ea[d7].marker})}}}for(var d7=0;d7<ee;++d7){d9.push(d4)}d9.push(ei)}return d9}function cA(ec,ea){var d4=bg(ec,ea);var ed=cJ(ec,ea);if(!d4){return ed}if(!ed){return d4}for(var d7=0;d7<d4.length;++d7){var d8=d4[d7],d9=ed[d7];if(d8&&d9){spans:for(var d6=0;d6<d9.length;++d6){var eb=d9[d6];for(var d5=0;d5<d8.length;++d5){if(d8[d5].marker==eb.marker){continue spans}}d8.push(eb)}}else{if(d9){d4[d7]=d9}}}return d4}function bI(ee,ec,ed){var d7=null;ee.iter(ec.line,ed.line+1,function(ef){if(ef.markedSpans){for(var eg=0;eg<ef.markedSpans.length;++eg){var eh=ef.markedSpans[eg].marker;if(eh.readOnly&&(!d7||b6(d7,eh)==-1)){(d7||(d7=[])).push(eh)}}}});if(!d7){return null}var d8=[{from:ec,to:ed}];for(var d9=0;d9<d7.length;++d9){var ea=d7[d9],d5=ea.find();for(var d6=0;d6<d8.length;++d6){var d4=d8[d6];if(dn(d4.to,d5.from)||dn(d5.to,d4.from)){continue}var eb=[d6,1];if(dn(d4.from,d5.from)||!ea.inclusiveLeft&&dL(d4.from,d5.from)){eb.push({from:d4.from,to:d5.from})}if(dn(d5.to,d4.to)||!ea.inclusiveRight&&dL(d4.to,d5.to)){eb.push({from:d5.to,to:d4.to})}d8.splice.apply(d8,eb);d6+=eb.length-1}}return d8}function aS(d5,d7){var d4=av&&d5.markedSpans,d9;if(d4){for(var d8,d6=0;d6<d4.length;++d6){d8=d4[d6];if(!d8.marker.collapsed){continue}if((d8.from==null||d8.from<d7)&&(d8.to==null||d8.to>d7)&&(!d9||d9.width<d8.marker.width)){d9=d8.marker}}}return d9}function c7(d4){return aS(d4,-1)}function cP(d4){return aS(d4,d4.text.length+1)}function t(d6,d5){var d4;while(d4=c7(d5)){d5=dm(d6,d4.find().from.line)}return d5}function dC(d8,d5){var d4=av&&d5.markedSpans;if(d4){for(var d7,d6=0;d6<d4.length;++d6){d7=d4[d6];if(!d7.marker.collapsed){continue}if(d7.from==null){return true}if(d7.from==0&&d7.marker.inclusiveLeft&&H(d8,d5,d7)){return true}}}}function H(ea,d5,d7){if(d7.to==null){var d4=d7.marker.find().to,d8=dm(ea,d4.line);return H(ea,d8,dj(d8.markedSpans,d7.marker))}if(d7.marker.inclusiveRight&&d7.to==d5.text.length){return true}for(var d9,d6=0;d6<d5.markedSpans.length;++d6){d9=d5.markedSpans[d6];if(d9.marker.collapsed&&d9.from==d7.to&&(d9.marker.inclusiveLeft||d7.marker.inclusiveRight)&&H(ea,d5,d9)){return true}}}function dY(d4){var d6=d4.markedSpans;if(!d6){return}for(var d5=0;d5<d6.length;++d5){d6[d5].marker.detachLine(d4)}d4.markedSpans=null}function bW(d4,d6){if(!d6){return}for(var d5=0;d5<d6.length;++d5){d6[d5].marker.attachLine(d4)}d4.markedSpans=d6}var ci=z.LineWidget=function(d4,d7,d5){for(var d6 in d5){if(d5.hasOwnProperty(d6)){this[d6]=d5[d6]}}this.cm=d4;this.node=d7};function C(d4){return function(){var d6=!this.cm.curOp;if(d6){bK(this.cm)}try{var d5=d4.apply(this,arguments)}finally{if(d6){T(this.cm)}}return d5}}ci.prototype.clear=C(function(){var d4=this.line.widgets,d6=a3(this.line);if(d6==null||!d4){return}for(var d5=0;d5<d4.length;++d5){if(d4[d5]==this){d4.splice(d5--,1)}}if(!d4.length){this.line.widgets=null}dX(this.line,Math.max(0,this.line.height-bS(this)));N(this.cm,d6,d6+1)});ci.prototype.changed=C(function(){var d4=this.height;this.height=null;var d5=bS(this)-d4;if(!d5){return}dX(this.line,this.line.height+d5);var d6=a3(this.line);N(this.cm,d6,d6+1)});function bS(d4){if(d4.height!=null){return d4.height}if(!d4.node.parentNode||d4.node.parentNode.nodeType!=1){a7(d4.cm.display.measure,dU("div",[d4.node],null,"position: relative"))}return d4.height=d4.node.offsetHeight}function aY(d4,d8,d6,d5){var d7=new ci(d4,d6,d5);if(d7.noHScroll){d4.display.alignWidgets=true}cT(d4,d8,function(ea){(ea.widgets||(ea.widgets=[])).push(d7);d7.line=ea;if(!dC(d4.doc,ea)||d7.showIfHidden){var d9=a2(d4,ea)<d4.display.scroller.scrollTop;dX(ea,ea.height+bS(d7));if(d9){bM(d4,0,d7.height)}}return true});return d7}function aI(d7,d6,d4){var d5={text:d7};bW(d5,d6);d5.height=d4?d4(d5):1;return d5}function cL(d5,d8,d6,d4){d5.text=d8;if(d5.stateAfter){d5.stateAfter=null}if(d5.styles){d5.styles=null}if(d5.order!=null){d5.order=null}dY(d5);bW(d5,d6);var d7=d4?d4(d5):1;if(d7!=d5.height){dX(d5,d7)}}function aT(d4){d4.parent=null;dY(d4)}function r(eb,ed,d8,d5,d9){var d6=d8.flattenSpans;if(d6==null){d6=eb.options.flattenSpans}var ee="",ea=null;var ec=new da(ed,eb.options.tabSize);if(ed==""&&d8.blankLine){d8.blankLine(d5)}while(!ec.eol()){var d4=d8.token(ec,d5);if(ec.pos>5000){d6=false;ec.pos=Math.min(ed.length,ec.start+50000);d4=null}var d7=ec.current();ec.start=ec.pos;if(!d6||ea!=d4){if(ee){d9(ee,ea)}ee=d7;ea=d4}else{ee=ee+d7}}if(ee){d9(ee,ea)}}function dH(d4,d5,d9){var d7=[d4.state.modeGen];r(d4,d5.text,d4.doc.mode,d9,function(eb,ec){d7.push(eb,ec)});for(var ea=0;ea<d4.state.overlays.length;++ea){var d6=d4.state.overlays[ea],d8=1;r(d4,d5.text,d6.mode,true,function(ec,ee){var eg=d8,eb=ec.length;while(eb){var ef=d7[d8],ed=ef.length;if(ed<=eb){eb-=ed}else{d7.splice(d8,1,ef.slice(0,eb),d7[d8+1],ef.slice(eb));eb=0}d8+=2}if(!ee){return}if(d6.opaque){d7.splice(eg,d8-eg,ec,ee);d8=eg+2}else{for(;eg<d8;eg+=2){var ef=d7[eg+1];d7[eg+1]=ef?ef+" "+ee:ee}}})}return d7}function b0(d4,d5){if(!d5.styles||d5.styles[0]!=d4.state.modeGen){d5.styles=dH(d4,d5,d5.stateAfter=ch(d4,a3(d5)))}return d5.styles}function cf(d4,d5,d6){var d8=d4.doc.mode;var d7=new da(d5.text,d4.options.tabSize);if(d5.text==""&&d8.blankLine){d8.blankLine(d6)}while(!d7.eol()&&d7.pos<=5000){d8.token(d7,d6);d7.start=d7.pos}}var ct={};function j(d4){if(!d4){return null}return ct[d4]||(ct[d4]="cm-"+d4.replace(/ +/g," cm-"))}function cp(ed,eh,d5){var ee,ei=eh,eb,eg,d4=true;while(ee=c7(ei)){d4=false;ei=dm(ed.doc,ee.find().from.line);if(!eb){eb=ei}}var ea={pre:dU("pre"),col:0,pos:0,display:!d5,measure:null,addedOne:false,cm:ed};if(ei.textClass){ea.pre.className=ei.textClass}do{ea.measure=ei==eh&&d5;ea.pos=0;ea.addToken=ea.measure?e:p;if((cl||bU)&&ed.getOption("lineWrapping")){ea.addToken=dJ(ea.addToken)}if(d5&&eg&&ei!=eh&&!ea.addedOne){d5[0]=ea.pre.appendChild(aL(ed.display.measure));ea.addedOne=true}var d9=aM(ei,ea,b0(ed,ei));eg=ei==eb;if(d9){ei=dm(ed.doc,d9.to.line);d4=false}}while(d9);if(d5&&!ea.addedOne){d5[0]=ea.pre.appendChild(d4?dU("span","\u00a0"):aL(ed.display.measure))}if(!ea.pre.firstChild&&!dC(ed.doc,eh)){ea.pre.appendChild(document.createTextNode("\u00a0"))}var d6;if(d5&&cl&&(d6=a(ei))){var d8=d6.length-1;if(d6[d8].from==d6[d8].to){--d8}var ef=d6[d8],d7=d6[d8-1];if(ef.from+1==ef.to&&d7&&ef.level<d7.level){var ec=d5[ea.pos-1];if(ec){ec.parentNode.insertBefore(ec.measureRight=aL(ed.display.measure),ec.nextSibling)}}}ad(ed,"renderLine",ed,eh,ea.pre);return ea.pre}var bY=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;function p(d8,ef,d4,d7,eg){if(!ef){return}if(!bY.test(ef)){d8.col+=ef.length;var eb=document.createTextNode(ef)}else{var eb=document.createDocumentFragment(),ed=0;while(true){bY.lastIndex=ed;var d5=bY.exec(ef);var ea=d5?d5.index-ed:ef.length-ed;if(ea){eb.appendChild(document.createTextNode(ef.slice(ed,ed+ea)));d8.col+=ea}if(!d5){break}ed+=ea+1;if(d5[0]=="\t"){var d9=d8.cm.options.tabSize,ec=d9-d8.col%d9;eb.appendChild(dU("span",bx(ec),"cm-tab"));d8.col+=ec}else{var d6=dU("span","\u2022","cm-invalidchar");d6.title="\\u"+d5[0].charCodeAt(0).toString(16);eb.appendChild(d6);d8.col+=1}}}if(d4||d7||eg||d8.measure){var ee=d4||"";if(d7){ee+=d7}if(eg){ee+=eg}return d8.pre.appendChild(dU("span",[eb],ee))}d8.pre.appendChild(eb)}function e(ea,ec,d5,d7,ed){var d9=ea.cm.options.lineWrapping;for(var d8=0;d8<ec.length;++d8){var d4=ec.charAt(d8),d6=d8==0;if(d4>="\ud800"&&d4<"\udbff"&&d8<ec.length-1){d4=ec.slice(d8,d8+2);++d8}else{if(d8&&d9&&bj.test(ec.slice(d8-1,d8+1))){ea.pre.appendChild(dU("wbr"))}}var eb=ea.measure[ea.pos]=p(ea,d4,d5,d6&&d7,d8==ec.length-1&&ed);if(cl&&d9&&d4==" "&&d8&&!/\s/.test(ec.charAt(d8-1))&&d8<ec.length-1&&!/\s/.test(ec.charAt(d8+1))){eb.style.whiteSpace="normal"}ea.pos+=d4.length}if(ec.length){ea.addedOne=true}}function dJ(d4){function d5(d6){var d7=" ";for(var d8=0;d8<d6.length-2;++d8){d7+=d8%2?" ":"\u00a0"}d7+=" ";return d7}return function(d7,ea,d8,d6,d9){return d4(d7,ea.replace(/ {3,}/,d5),d8,d6,d9)}}function K(d4,d5,d6){if(d6){if(!d4.display){d6=d6.cloneNode(true)}d4.pre.appendChild(d6);if(d4.measure&&d5){d4.measure[d4.pos]=d6;d4.addedOne=true}}d4.pos+=d5}function aM(ec,ei,eb){var d9=ec.markedSpans;if(!d9){for(var el=1;el<eb.length;el+=2){ei.addToken(ei,eb[el],j(eb[el+1]))}return}var ea=ec.text,em=ea.length;var d8=0,el=1,ef="",en;var ep=0,d4,eo,eg,d6;for(;;){if(ep==d8){d4=eo=eg="";d6=null;ep=Infinity;var ed=null;for(var ej=0;ej<d9.length;++ej){var ek=d9[ej],eh=ek.marker;if(ek.from<=d8&&(ek.to==null||ek.to>d8)){if(ek.to!=null&&ep>ek.to){ep=ek.to;eo=""}if(eh.className){d4+=" "+eh.className}if(eh.startStyle&&ek.from==d8){eg+=" "+eh.startStyle}if(eh.endStyle&&ek.to==ep){eo+=" "+eh.endStyle}if(eh.collapsed&&(!d6||d6.marker.width<eh.width)){d6=ek}}else{if(ek.from>d8&&ep>ek.from){ep=ek.from}}if(eh.type=="bookmark"&&ek.from==d8&&eh.replacedWith){ed=eh.replacedWith}}if(d6&&(d6.from||0)==d8){K(ei,(d6.to==null?em:d6.to)-d8,d6.from!=null&&d6.marker.replacedWith);if(d6.to==null){return d6.marker.find()}}if(ed&&!d6){K(ei,0,ed)}}if(d8>=em){break}var ee=Math.min(em,ep);while(true){if(ef){var d5=d8+ef.length;if(!d6){var d7=d5>ee?ef.slice(0,ee-d8):ef;ei.addToken(ei,d7,en?en+d4:d4,eg,d8+d7.length==ep?eo:"")}if(d5>=ee){ef=ef.slice(ee-d8);d8=ee;break}d8=d5;eg=""}ef=eb[el++];en=j(eb[el++])}}}function dF(el,ec,d8,eg,ea){function d7(em){return d8?d8[em]:null}function eb(em,eo,en){cL(em,eo,en,ea);M(em,"change",em,ec)}var eh=ec.from,d5=ec.to,ee=ec.text;var ed=dm(el,eh.line),d4=dm(el,d5.line);var d6=dK(ee),ej=d7(ee.length-1),ef=d5.line-eh.line;if(eh.ch==0&&d5.ch==0&&d6==""){for(var ei=0,ek=ee.length-1,d9=[];ei<ek;++ei){d9.push(aI(ee[ei],d7(ei),ea))}eb(d4,d4.text,ej);if(ef){el.remove(eh.line,ef)}if(d9.length){el.insert(eh.line,d9)}}else{if(ed==d4){if(ee.length==1){eb(ed,ed.text.slice(0,eh.ch)+d6+ed.text.slice(d5.ch),ej)}else{for(var d9=[],ei=1,ek=ee.length-1;ei<ek;++ei){d9.push(aI(ee[ei],d7(ei),ea))}d9.push(aI(d6+ed.text.slice(d5.ch),ej,ea));eb(ed,ed.text.slice(0,eh.ch)+ee[0],d7(0));el.insert(eh.line+1,d9)}}else{if(ee.length==1){eb(ed,ed.text.slice(0,eh.ch)+ee[0]+d4.text.slice(d5.ch),d7(0));el.remove(eh.line+1,ef)}else{eb(ed,ed.text.slice(0,eh.ch)+ee[0],d7(0));eb(d4,d6+d4.text.slice(d5.ch),ej);for(var ei=1,ek=ee.length-1,d9=[];ei<ek;++ei){d9.push(aI(ee[ei],d7(ei),ea))}if(ef>1){el.remove(eh.line+1,ef-1)}el.insert(eh.line+1,d9)}}}M(el,"change",el,ec);a8(el,eg.anchor,eg.head,null,true)}function de(d5){this.lines=d5;this.parent=null;for(var d6=0,d7=d5.length,d4=0;d6<d7;++d6){d5[d6].parent=this;d4+=d5[d6].height}this.height=d4}de.prototype={chunkSize:function(){return this.lines.length},removeInner:function(d4,d8){for(var d6=d4,d7=d4+d8;d6<d7;++d6){var d5=this.lines[d6];this.height-=d5.height;aT(d5);M(d5,"delete")}this.lines.splice(d4,d8)},collapse:function(d4){d4.splice.apply(d4,[d4.length,0].concat(this.lines))},insertInner:function(d5,d6,d4){this.height+=d4;this.lines=this.lines.slice(0,d5).concat(d6).concat(this.lines.slice(d5));for(var d7=0,d8=d6.length;d7<d8;++d7){d6[d7].parent=this}},iterN:function(d4,d7,d6){for(var d5=d4+d7;d4<d5;++d4){if(d6(this.lines[d4])){return true}}}};function dD(d7){this.children=d7;var d6=0,d4=0;for(var d5=0,d9=d7.length;d5<d9;++d5){var d8=d7[d5];d6+=d8.chunkSize();d4+=d8.height;d8.parent=this}this.size=d6;this.height=d4;this.parent=null}dD.prototype={chunkSize:function(){return this.size},removeInner:function(d4,eb){this.size-=eb;for(var d6=0;d6<this.children.length;++d6){var ea=this.children[d6],d8=ea.chunkSize();if(d4<d8){var d7=Math.min(eb,d8-d4),d9=ea.height;ea.removeInner(d4,d7);this.height-=d9-ea.height;if(d8==d7){this.children.splice(d6--,1);ea.parent=null}if((eb-=d7)==0){break}d4=0}else{d4-=d8}}if(this.size-eb<25){var d5=[];this.collapse(d5);this.children=[new de(d5)];this.children[0].parent=this}},collapse:function(d4){for(var d5=0,d6=this.children.length;d5<d6;++d5){this.children[d5].collapse(d4)}},insertInner:function(d5,ec,eb){this.size+=ec.length;this.height+=eb;for(var d6=0,d8=this.children.length;d6<d8;++d6){var d4=this.children[d6],d9=d4.chunkSize();if(d5<=d9){d4.insertInner(d5,ec,eb);if(d4.lines&&d4.lines.length>50){while(d4.lines.length>50){var d7=d4.lines.splice(d4.lines.length-25,25);var ea=new de(d7);d4.height-=ea.height;this.children.splice(d6+1,0,ea);ea.parent=this}this.maybeSpill()}break}d5-=d9}},maybeSpill:function(){if(this.children.length<=10){return}var d7=this;do{var d5=d7.children.splice(d7.children.length-5,5);var d6=new dD(d5);if(!d7.parent){var d8=new dD(d7.children);d8.parent=d7;d7.children=[d8,d6];d7=d8}else{d7.size-=d6.size;d7.height-=d6.height;var d4=b6(d7.parent.children,d7);d7.parent.children.splice(d4+1,0,d6)}d6.parent=d7.parent}while(d7.children.length>10);d7.parent.maybeSpill()},iterN:function(d4,eb,ea){for(var d5=0,d8=this.children.length;d5<d8;++d5){var d9=this.children[d5],d7=d9.chunkSize();if(d4<d7){var d6=Math.min(eb,d7-d4);if(d9.iterN(d4,d6,ea)){return true}if((eb-=d6)==0){break}d4=0}else{d4-=d7}}}};var by=0;var W=z.Doc=function(d6,d5,d4){if(!(this instanceof W)){return new W(d6,d5,d4)}if(d4==null){d4=0}dD.call(this,[new de([aI("",null)])]);this.first=d4;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.history=Y();this.frontier=d4;var d7=I(d4,0);this.sel={from:d7,to:d7,head:d7,anchor:d7,shift:false,extend:false,goalColumn:null};this.id=++by;this.modeOption=d5;if(typeof d6=="string"){d6=ar(d6)}dF(this,{from:d7,to:d7,text:d6},null,{head:d7,anchor:d7})};W.prototype=br(dD.prototype,{iter:function(d6,d5,d4){if(d4){this.iterN(d6-this.first,d5-d6,d4)}else{this.iterN(this.first,this.first+this.size,d6)}},insert:function(d5,d6){var d4=0;for(var d7=0,d8=d6.length;d7<d8;++d7){d4+=d6[d7].height}this.insertInner(d5-this.first,d6,d4)},remove:function(d4,d5){this.removeInner(d4-this.first,d5)},getValue:function(d5){var d4=au(this,this.first,this.first+this.size);if(d5===false){return d4}return d4.join(d5||"\n")},setValue:function(d5){var d6=I(this.first,0),d4=this.first+this.size-1;aC(this,{from:d6,to:I(d4,dm(this,d4).text.length),text:ar(d5),origin:"setValue"},{head:d6,anchor:d6},true)},replaceRange:function(d5,d7,d6,d4){d7=dM(this,d7);d6=d6?dM(this,d6):d7;at(this,d5,d7,d6,d4)},getRange:function(d7,d6,d5){var d4=dV(this,dM(this,d7),dM(this,d6));if(d5===false){return d4}return d4.join(d5||"\n")},getLine:function(d5){var d4=this.getLineHandle(d5);return d4&&d4.text},setLine:function(d4,d5){if(bi(this,d4)){at(this,d5,I(d4,0),dM(this,I(d4)))}},removeLine:function(d4){if(bi(this,d4)){at(this,"",I(d4,0),dM(this,I(d4+1,0)))}},getLineHandle:function(d4){if(bi(this,d4)){return dm(this,d4)}},getLineNumber:function(d4){return a3(d4)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(d4){return dM(this,d4)},getCursor:function(d6){var d4=this.sel,d5;if(d6==null||d6=="head"){d5=d4.head}else{if(d6=="anchor"){d5=d4.anchor}else{if(d6=="end"||d6===false){d5=d4.to}else{d5=d4.from}}}return bq(d5)},somethingSelected:function(){return !dL(this.sel.head,this.sel.anchor)},setCursor:dG(function(d4,d5,d7){var d6=dM(this,typeof d4=="number"?I(d4,d5||0):d4);if(d7){dS(this,d6)}else{a8(this,d6,d6)}}),setSelection:dG(function(d4,d5){a8(this,dM(this,d4),dM(this,d5||d4))}),extendSelection:dG(function(d5,d4){dS(this,dM(this,d5),d4&&dM(this,d4))}),getSelection:function(d4){return this.getRange(this.sel.from,this.sel.to,d4)},replaceSelection:function(d5,d6,d4){aC(this,{from:this.sel.from,to:this.sel.to,text:ar(d5),origin:d4},d6||"around")},undo:dG(function(){bh(this,"undo")}),redo:dG(function(){bh(this,"redo")}),setExtending:function(d4){this.sel.extend=d4},historySize:function(){var d4=this.history;return{undo:d4.done.length,redo:d4.undone.length}},clearHistory:function(){this.history=Y()},markClean:function(){this.history.dirtyCounter=0;this.history.lastOp=this.history.lastOrigin=null},isClean:function(){return this.history.dirtyCounter==0},getHistory:function(){return{done:a4(this.history.done),undone:a4(this.history.undone)}},setHistory:function(d5){var d4=this.history=Y();d4.done=d5.done.slice(0);d4.undone=d5.undone.slice(0)},markText:function(d6,d5,d4){return c1(this,dM(this,d6),dM(this,d5),d4,"range")},setBookmark:function(d6,d4){var d5={replacedWith:d4&&(d4.nodeType==null?d4.widget:d4),insertLeft:d4&&d4.insertLeft};d6=dM(this,d6);return c1(this,d6,d6,d5,"bookmark")},findMarksAt:function(d8){d8=dM(this,d8);var d7=[],d5=dm(this,d8.line).markedSpans;if(d5){for(var d4=0;d4<d5.length;++d4){var d6=d5[d4];if((d6.from==null||d6.from<=d8.ch)&&(d6.to==null||d6.to>=d8.ch)){d7.push(d6.marker.parent||d6.marker)}}}return d7},getAllMarks:function(){var d4=[];this.iter(function(d6){var d5=d6.markedSpans;if(d5){for(var d7=0;d7<d5.length;++d7){if(d5[d7].from!=null){d4.push(d5[d7].marker)}}}});return d4},posFromIndex:function(d5){var d4,d6=this.first;this.iter(function(d7){var d8=d7.text.length+1;if(d8>d5){d4=d5;return true}d5-=d8;++d6});return dM(this,I(d6,d4))},indexFromPos:function(d5){d5=dM(this,d5);var d4=d5.ch;if(d5.line<this.first||d5.ch<0){return 0}this.iter(this.first,d5.line,function(d6){d4+=d6.text.length+1});return d4},copy:function(d4){var d5=new W(au(this,this.first,this.first+this.size),this.modeOption,this.first);d5.scrollTop=this.scrollTop;d5.scrollLeft=this.scrollLeft;d5.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:false,goalColumn:this.sel.goalColumn};if(d4){d5.history.undoDepth=this.history.undoDepth;d5.setHistory(this.getHistory())}return d5},linkedDoc:function(d4){if(!d4){d4={}}var d7=this.first,d6=this.first+this.size;if(d4.from!=null&&d4.from>d7){d7=d4.from}if(d4.to!=null&&d4.to<d6){d6=d4.to}var d5=new W(au(this,d7,d6),d4.mode||this.modeOption,d7);if(d4.sharedHist){d5.history=this.history}(this.linked||(this.linked=[])).push({doc:d5,sharedHist:d4.sharedHist});d5.linked=[{doc:this,isParent:true,sharedHist:d4.sharedHist}];return d5},unlinkDoc:function(d5){if(d5 instanceof z){d5=d5.doc}if(this.linked){for(var d6=0;d6<this.linked.length;++d6){var d7=this.linked[d6];if(d7.doc!=d5){continue}this.linked.splice(d6,1);d5.unlinkDoc(this);break}}if(d5.history==this.history){var d4=[d5.id];cy(d5,function(d8){d4.push(d8.id)},true);d5.history=Y();d5.history.done=a4(this.history.done,d4);d5.history.undone=a4(this.history.undone,d4)}},iterLinkedDocs:function(d4){cy(this,d4)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});W.prototype.eachLine=W.prototype.iter;var d="iter insert remove copy getEditor".split(" ");for(var a1 in W.prototype){if(W.prototype.hasOwnProperty(a1)&&b6(d,a1)<0){z.prototype[a1]=(function(d4){return function(){return d4.apply(this.doc,arguments)}})(W.prototype[a1])}}function cy(d7,d6,d5){function d4(ed,eb,d9){if(ed.linked){for(var ea=0;ea<ed.linked.length;++ea){var d8=ed.linked[ea];if(d8.doc==eb){continue}var ec=d9&&d8.sharedHist;if(d5&&!ec){continue}d6(d8.doc,ec);d4(d8.doc,ed,ec)}}}d4(d7,null,true)}function cB(d4,d5){if(d5.cm){throw new Error("This document is already in use.")}d4.doc=d5;d5.cm=d4;J(d4);aO(d4);if(!d4.options.lineWrapping){dW(d4)}d4.options.mode=d5.modeOption;N(d4)}function dm(d4,d8){d8-=d4.first;while(!d4.lines){for(var d5=0;;++d5){var d7=d4.children[d5],d6=d7.chunkSize();if(d8<d6){d4=d7;break}d8-=d6}}return d4.lines[d8]}function dV(d6,d8,d4){var d5=[],d7=d8.line;d6.iter(d8.line,d4.line+1,function(d9){var ea=d9.text;if(d7==d4.line){ea=ea.slice(0,d4.ch)}if(d7==d8.line){ea=ea.slice(d8.ch)}d5.push(ea);++d7});return d5}function au(d5,d7,d6){var d4=[];d5.iter(d7,d6,function(d8){d4.push(d8.text)});return d4}function dX(d5,d4){var d6=d4-d5.height;for(var d7=d5;d7;d7=d7.parent){d7.height+=d6}}function a3(d4){if(d4.parent==null){return null}var d8=d4.parent,d7=b6(d8.lines,d4);for(var d5=d8.parent;d5;d8=d5,d5=d5.parent){for(var d6=0;;++d6){if(d5.children[d6]==d8){break}d7+=d5.children[d6].chunkSize()}}return d7+d8.first}function aX(ea,d8){var d6=ea.first;outer:do{for(var d7=0,d9=ea.children.length;d7<d9;++d7){var d5=ea.children[d7],d4=d5.height;if(d8<d4){ea=d5;continue outer}d8-=d4;d6+=d5.chunkSize()}return d6}while(!ea.lines);for(var d7=0,d9=ea.lines.length;d7<d9;++d7){var ec=ea.lines[d7],eb=ec.height;if(d8<eb){break}d8-=eb}return d6+d7}function a2(d4,d7){d7=t(d4.doc,d7);var d9=0,d6=d7.parent;for(var d8=0;d8<d6.lines.length;++d8){var d5=d6.lines[d8];if(d5==d7){break}else{d9+=d5.height}}for(var ea=d6.parent;ea;d6=ea,ea=d6.parent){for(var d8=0;d8<ea.children.length;++d8){var eb=ea.children[d8];if(eb==d6){break}else{d9+=eb.height}}}return d9}function a(d5){var d4=d5.order;if(d4==null){d4=d5.order=aD(d5.text)}return d4}function Y(){return{done:[],undone:[],undoDepth:Infinity,lastTime:0,lastOp:null,lastOrigin:null,dirtyCounter:0}}function bb(d5,d9,d8,d7){var d4=d9["spans_"+d5.id],d6=0;d5.iter(Math.max(d5.first,d8),Math.min(d5.first+d5.size,d7),function(ea){if(ea.markedSpans){(d4||(d4=d9["spans_"+d5.id]={}))[d6]=ea.markedSpans}++d6})}function cd(d4,d6){var d5={from:d6.from,to:bR(d6),text:dV(d4,d6.from,d6.to)};bb(d4,d5,d6.from.line,d6.to.line+1);cy(d4,function(d7){bb(d7,d5,d6.from.line,d6.to.line+1)},true);return d5}function c2(d9,eb,d8,d4){var d7=d9.history;d7.undone.length=0;var d6=+new Date,ea=dK(d7.done);if(ea&&(d7.lastOp==d4||d7.lastOrigin==eb.origin&&eb.origin&&((eb.origin.charAt(0)=="+"&&d7.lastTime>d6-600)||eb.origin.charAt(0)=="*"))){var d5=dK(ea.changes);if(dL(eb.from,eb.to)&&dL(eb.from,d5.to)){d5.to=bR(eb)}else{ea.changes.push(cd(d9,eb))}ea.anchorAfter=d8.anchor;ea.headAfter=d8.head}else{ea={changes:[cd(d9,eb)],anchorBefore:d9.sel.anchor,headBefore:d9.sel.head,anchorAfter:d8.anchor,headAfter:d8.head};d7.done.push(ea);while(d7.done.length>d7.undoDepth){d7.done.shift()}if(d7.dirtyCounter<0){d7.dirtyCounter=NaN}else{d7.dirtyCounter++}}d7.lastTime=d6;d7.lastOp=d4;d7.lastOrigin=eb.origin}function aG(d6){if(!d6){return null}for(var d5=0,d4;d5<d6.length;++d5){if(d6[d5].marker.explicitlyCleared){if(!d4){d4=d6.slice(0,d5)}}else{if(d4){d4.push(d6[d5])}}}return !d4?d6:d4.length?d4:null}function bg(d7,d8){var d6=d8["spans_"+d7.id];if(!d6){return null}for(var d5=0,d4=[];d5<d8.text.length;++d5){d4.push(aG(d6[d5]))}return d4}function a4(ee,d7){for(var ea=0,d5=[];ea<ee.length;++ea){var d6=ee[ea],ec=d6.changes,ed=[];d5.push({changes:ed,anchorBefore:d6.anchorBefore,headBefore:d6.headBefore,anchorAfter:d6.anchorAfter,headAfter:d6.headAfter});for(var d9=0;d9<ec.length;++d9){var eb=ec[d9],d8;ed.push({from:eb.from,to:eb.to,text:eb.text});if(d7){for(var d4 in eb){if(d8=d4.match(/^spans_(\d+)$/)){if(b6(d7,Number(d8[1]))>-1){dK(ed)[d4]=eb[d4];delete eb[d4]}}}}}}return d5}function dc(d7,d6,d5,d4){if(d5<d7.line){d7.line+=d4}else{if(d6<d7.line){d7.line=d6;d7.ch=0}}}function dp(d7,d9,ea,eb){for(var d6=0;d6<d7.length;++d6){var d4=d7[d6],d8=true;for(var d5=0;d5<d4.changes.length;++d5){var ec=d4.changes[d5];if(!d4.copied){ec.from=bq(ec.from);ec.to=bq(ec.to)}if(ea<ec.from.line){ec.from.line+=eb;ec.to.line+=eb}else{if(d9<=ec.to.line){d8=false;break}}}if(!d4.copied){d4.anchorBefore=bq(d4.anchorBefore);d4.headBefore=bq(d4.headBefore);d4.anchorAfter=bq(d4.anchorAfter);d4.readAfter=bq(d4.headAfter);d4.copied=true}if(!d8){d7.splice(0,d6+1);d6=0}else{dc(d4.anchorBefore);dc(d4.headBefore);dc(d4.anchorAfter);dc(d4.headAfter)}}}function ck(d5,d8){var d7=d8.from.line,d6=d8.to.line,d4=d8.text.length-(d6-d7)-1;dp(d5.done,d7,d6,d4);dp(d5.undone,d7,d6,d4)}function c9(){cM(this)}function U(d4){if(!d4.stop){d4.stop=c9}return d4}function bH(d4){if(d4.preventDefault){d4.preventDefault()}else{d4.returnValue=false}}function ca(d4){if(d4.stopPropagation){d4.stopPropagation()}else{d4.cancelBubble=true}}function cM(d4){bH(d4);ca(d4)}z.e_stop=cM;z.e_preventDefault=bH;z.e_stopPropagation=ca;function B(d4){return d4.target||d4.srcElement}function dO(d5){var d4=d5.which;if(d4==null){if(d5.button&1){d4=1}else{if(d5.button&2){d4=3}else{if(d5.button&4){d4=2}}}}if(bf&&d5.ctrlKey&&d4==1){d4=3}return d4}function ba(d7,d5,d6){if(d7.addEventListener){d7.addEventListener(d5,d6,false)}else{if(d7.attachEvent){d7.attachEvent("on"+d5,d6)}else{var d8=d7._handlers||(d7._handlers={});var d4=d8[d5]||(d8[d5]=[]);d4.push(d6)}}}function cE(d8,d6,d7){if(d8.removeEventListener){d8.removeEventListener(d6,d7,false)}else{if(d8.detachEvent){d8.detachEvent("on"+d6,d7)}else{var d4=d8._handlers&&d8._handlers[d6];if(!d4){return}for(var d5=0;d5<d4.length;++d5){if(d4[d5]==d7){d4.splice(d5,1);break}}}}}function ad(d8,d7){var d4=d8._handlers&&d8._handlers[d7];if(!d4){return}var d5=Array.prototype.slice.call(arguments,2);for(var d6=0;d6<d4.length;++d6){d4[d6].apply(null,d5)}}var aK,bz=0;function M(d9,d8){var d4=d9._handlers&&d9._handlers[d8];if(!d4){return}var d6=Array.prototype.slice.call(arguments,2);if(!aK){++bz;aK=[];setTimeout(cU,0)}function d5(ea){return function(){ea.apply(null,d6)}}for(var d7=0;d7<d4.length;++d7){aK.push(d5(d4[d7]))}}function cU(){--bz;var d4=aK;aK=null;for(var d5=0;d5<d4.length;++d5){d4[d5]()}}function dt(d6,d5){var d4=d6._handlers&&d6._handlers[d5];return d4&&d4.length>0}z.on=ba;z.off=cE;z.signal=ad;var aF=30;var bk=z.Pass={toString:function(){return"CodeMirror.Pass"}};function d3(){this.id=null}d3.prototype={set:function(d4,d5){clearTimeout(this.id);this.id=setTimeout(d5,d4)}};function a6(d6,d4,d8,d9,d5){if(d4==null){d4=d6.search(/[^\s\u00a0]/);if(d4==-1){d4=d6.length}}for(var d7=d9||0,ea=d5||0;d7<d4;++d7){if(d6.charAt(d7)=="\t"){ea+=d8-(ea%d8)}else{++ea}}return ea}z.countColumn=a6;var aq=[""];function bx(d4){while(aq.length<=d4){aq.push(dK(aq)+" ")}return aq[d4]}function dK(d4){return d4[d4.length-1]}function cn(d4){if(df){d4.selectionStart=0;d4.selectionEnd=d4.value.length}else{d4.select()}}function b6(d7,d4){if(d7.indexOf){return d7.indexOf(d4)}for(var d5=0,d6=d7.length;d5<d6;++d5){if(d7[d5]==d4){return d5}}return -1}function br(d7,d5){function d4(){}d4.prototype=d7;var d6=new d4();if(d5){ah(d5,d6)}return d6}function ah(d5,d4){if(!d4){d4={}}for(var d6 in d5){if(d5.hasOwnProperty(d6)){d4[d6]=d5[d6]}}return d4}function R(d6){for(var d4=[],d5=0;d5<d6;++d5){d4.push(undefined)}return d4}function bA(d5){var d4=Array.prototype.slice.call(arguments,1);return function(){return d5.apply(null,d4)}}var az=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/;function bD(d4){return/\w/.test(d4)||d4>"\x80"&&(d4.toUpperCase()!=d4.toLowerCase()||az.test(d4))}function db(d4){for(var d5 in d4){if(d4.hasOwnProperty(d5)&&d4[d5]){return false}}return true}var dy=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;function dU(d4,d8,d7,d6){var d9=document.createElement(d4);if(d7){d9.className=d7}if(d6){d9.style.cssText=d6}if(typeof d8=="string"){n(d9,d8)}else{if(d8){for(var d5=0;d5<d8.length;++d5){d9.appendChild(d8[d5])}}}return d9}function cv(d5){for(var d4=d5.childNodes.length;d4>0;--d4){d5.removeChild(d5.firstChild)}return d5}function a7(d4,d5){return cv(d4).appendChild(d5)}function n(d4,d5){if(bs){d4.innerHTML="";d4.appendChild(document.createTextNode(d5))}else{d4.textContent=d5}}function ai(d4){return d4.getBoundingClientRect()}z.replaceGetRect=function(d4){ai=d4};var c5=function(){if(bs){return false}var d4=dU("div");return"draggable" in d4||"dragDrop" in d4}();var bj=/^$/;if(bw){bj=/$'/}else{if(ac&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)){bj=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/}else{if(bU){bj=/[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.]|\?[\w~`@#$%\^&*(_=+{[|><]/}}}var cQ;function i(d4){if(cQ!=null){return cQ}var d5=dU("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");a7(d4,d5);if(d5.offsetWidth){cQ=d5.offsetHeight-d5.clientHeight}return cQ||0}var dN;function aL(d4){if(dN==null){var d5=dU("span","\u200b");a7(d4,dU("span",[d5,document.createTextNode("x")]));if(d4.firstChild.offsetHeight!=0){dN=d5.offsetWidth<=1&&d5.offsetHeight>2&&!bt}}if(dN){return dU("span","\u200b")}else{return dU("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}}var ar="\n\nb".split(/\n/).length!=3?function(d9){var ea=0,d4=[],d8=d9.length;while(ea<=d8){var d7=d9.indexOf("\n",ea);if(d7==-1){d7=d9.length}var d6=d9.slice(ea,d9.charAt(d7-1)=="\r"?d7-1:d7);var d5=d6.indexOf("\r");if(d5!=-1){d4.push(d6.slice(0,d5));ea+=d5+1}else{d4.push(d6);ea=d7+1}}return d4}:function(d4){return d4.split(/\r\n?|\n/)};z.splitLines=ar;var aP=window.getSelection?function(d5){try{return d5.selectionStart!=d5.selectionEnd}catch(d4){return false}}:function(d6){try{var d4=d6.ownerDocument.selection.createRange()}catch(d5){}if(!d4||d4.parentElement()!=d6){return false}return d4.compareEndPoints("StartToEnd",d4)!=0};var b1=(function(){var d4=dU("div");if("oncopy" in d4){return true}d4.setAttribute("oncopy","return;");return typeof d4.oncopy=="function"})();var dq={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};z.keyNames=dq;(function(){for(var d4=0;d4<10;d4++){dq[d4+48]=String(d4)}for(var d4=65;d4<=90;d4++){dq[d4]=String.fromCharCode(d4)}for(var d4=1;d4<=12;d4++){dq[d4+111]=dq[d4+63235]="F"+d4}})();function cw(d4,d9,d8,d7){if(!d4){return d7(d9,d8,"ltr")}for(var d6=0;d6<d4.length;++d6){var d5=d4[d6];if(d5.from<d8&&d5.to>d9||d9==d8&&d5.to==d9){d7(Math.max(d5.from,d9),Math.min(d5.to,d8),d5.level==1?"rtl":"ltr")}}}function cg(d4){return d4.level%2?d4.to:d4.from}function d0(d4){return d4.level%2?d4.from:d4.to}function bG(d5){var d4=a(d5);return d4?cg(d4[0]):0}function bQ(d5){var d4=a(d5);if(!d4){return d5.text.length}return d0(dK(d4))}function aQ(d5,d8){var d6=dm(d5.doc,d8);var d9=t(d5.doc,d6);if(d9!=d6){d8=a3(d9)}var d4=a(d9);var d7=!d4?0:d4[0].level%2?bQ(d9):bG(d9);return I(d8,d7)}function cq(d6,d9){var d5,d7;while(d5=cP(d7=dm(d6.doc,d9))){d9=d5.find().to.line}var d4=a(d7);var d8=!d4?d7.text.length:d4[0].level%2?bG(d7):bQ(d7);return I(d9,d8)}function q(ee,d4,d6,ea){var ec=a(ee);if(!ec){return O(ee,d4,d6,ea)}var ed=ea?function(eg,ef){do{eg+=ef}while(eg>0&&dy.test(ee.text.charAt(eg)));return eg}:function(eg,ef){return eg+ef};var d7=ec[0].level;for(var d8=0;d8<ec.length;++d8){var d5=ec[d8],eb=d5.level%2==d7;if((d5.from<d4&&d5.to>d4)||(eb&&(d5.from==d4||d5.to==d4))){break}}var d9=ed(d4,d5.level%2?-d6:d6);while(d9!=null){if(d5.level%2==d7){if(d9<d5.from||d9>d5.to){d5=ec[d8+=d6];d9=d5&&(d6>0==d5.level%2?ed(d5.to,-1):ed(d5.from,1))}else{break}}else{if(d9==cg(d5)){d5=ec[--d8];d9=d5&&d0(d5)}else{if(d9==d0(d5)){d5=ec[++d8];d9=d5&&cg(d5)}else{break}}}}return d9<0||d9>ee.text.length?null:d9}function O(d4,d8,d5,d6){var d7=d8+d5;if(d6){while(d7>0&&dy.test(d4.text.charAt(d7))){d7+=d5}}return d7<0||d7>d4.text.length?null:d7}var aD=(function(){var ea="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL";var d8="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr";function d7(ed){if(ed<=255){return ea.charAt(ed)}else{if(1424<=ed&&ed<=1524){return"R"}else{if(1536<=ed&&ed<=1791){return d8.charAt(ed-1536)}else{if(1792<=ed&&ed<=2220){return"r"}else{return"L"}}}}}var d4=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var ec=/[stwN]/,d6=/[LRr]/,d5=/[Lb1n]/,d9=/[1n]/;var eb="L";return function(en){if(!d4.test(en)){return false}var et=en.length,ej=[];for(var es=0,ef;es<et;++es){ej.push(ef=d7(en.charCodeAt(es)))}for(var es=0,em=eb;es<et;++es){var ef=ej[es];if(ef=="m"){ej[es]=em}else{em=ef}}for(var es=0,ed=eb;es<et;++es){var ef=ej[es];if(ef=="1"&&ed=="r"){ej[es]="n"}else{if(d6.test(ef)){ed=ef;if(ef=="r"){ej[es]="R"}}}}for(var es=1,em=ej[0];es<et-1;++es){var ef=ej[es];if(ef=="+"&&em=="1"&&ej[es+1]=="1"){ej[es]="1"}else{if(ef==","&&em==ej[es+1]&&(em=="1"||em=="n")){ej[es]=em}}em=ef}for(var es=0;es<et;++es){var ef=ej[es];if(ef==","){ej[es]="N"}else{if(ef=="%"){for(var eg=es+1;eg<et&&ej[eg]=="%";++eg){}var eu=(es&&ej[es-1]=="!")||(eg<et-1&&ej[eg]=="1")?"1":"N";for(var eq=es;eq<eg;++eq){ej[eq]=eu}es=eg-1}}}for(var es=0,ed=eb;es<et;++es){var ef=ej[es];if(ed=="L"&&ef=="1"){ej[es]="L"}else{if(d6.test(ef)){ed=ef}}}for(var es=0;es<et;++es){if(ec.test(ej[es])){for(var eg=es+1;eg<et&&ec.test(ej[eg]);++eg){}var ek=(es?ej[es-1]:eb)=="L";var ee=(eg<et-1?ej[eg]:eb)=="L";var eu=ek||ee?"L":"R";for(var eq=es;eq<eg;++eq){ej[eq]=eu}es=eg-1}}var er=[],eo;for(var es=0;es<et;){if(d5.test(ej[es])){var eh=es;for(++es;es<et&&d5.test(ej[es]);++es){}er.push({from:eh,to:es,level:0})}else{var ei=es,el=er.length;for(++es;es<et&&ej[es]!="L";++es){}for(var eq=ei;eq<es;){if(d9.test(ej[eq])){if(ei<eq){er.splice(el,0,{from:ei,to:eq,level:1})}var ep=eq;for(++eq;eq<es&&d9.test(ej[eq]);++eq){}er.splice(el,0,{from:ep,to:eq,level:2});ei=eq}else{++eq}}if(ei<es){er.splice(el,0,{from:ei,to:es,level:1})}}}if(er[0].level==1&&(eo=en.match(/^\s+/))){er[0].from=eo[0].length;er.unshift({from:0,to:eo[0].length,level:0})}if(dK(er).level==1&&(eo=en.match(/\s+$/))){dK(er).to-=eo[0].length;er.push({from:et-eo[0].length,to:et,level:0})}if(er[0].level!=dK(er).level){er.push({from:et,to:et,level:er[0].level})}return er}})();z.version="3.11";return z})();